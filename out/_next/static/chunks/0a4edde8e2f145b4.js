(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476);function a({className:e="",...a}){return(0,t.jsx)("div",{className:`rounded-lg border border-zinc-200 bg-white p-4 shadow-sm dark:bg-black dark:border-zinc-800 ${e}`,...a})}function r({className:e="",...a}){return(0,t.jsx)("div",{className:`mb-3 ${e}`,...a})}function n({className:e="",...a}){return(0,t.jsx)("h3",{className:`text-lg font-semibold ${e}`,...a})}function i({className:e="",...a}){return(0,t.jsx)("div",{className:`${e}`,...a})}e.s(["Card",()=>a,"CardContent",()=>i,"CardHeader",()=>r,"CardTitle",()=>n])},93479,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r=(0,a.forwardRef)(function({className:e="",clearOnFocus:r=!1,...n},i){let[s,l]=(0,a.useState)(!1),c=(0,a.useRef)(void 0),{onFocus:o,onBlur:d,onChange:u,value:p}=n;return(0,t.jsx)("input",{ref:i,className:`w-full h-12 rounded-lg border border-zinc-300 bg-white px-3 text-sm placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-[#007AFF]/30 disabled:opacity-50 dark:bg-black dark:border-zinc-700 dark:text-zinc-100 ${e}`,...n,...void 0!==p?{value:s?"":p}:{},onFocus:e=>{c.current=p,l(r&&void 0!==p&&""!==String(p)),o?.(e)},onBlur:e=>{l(!1),d?.(e)},onChange:e=>{l(!1),u?.(e)}})});e.s(["Input",0,r])},30826,e=>{"use strict";let t=null,a=null,r="calentrip_db",n=null,i=!1,s=!1;function l(){try{console.warn("⚠️ MODO RECAPE: Rodando sem SQLite nativo")}catch{}return{async createConnection(){},open:async()=>({execute:async()=>{},run:async()=>{},query:async()=>void 0,close:async()=>{}})}}async function c(){if(n)return n;try{try{window.db_disabled&&(s=!0,a=l())}catch{}if(!a)try{let t=await e.A(53119);a=t.CapacitorSQLite??t}catch{s=!0;try{window.offline=!0}catch{}try{window.db_fallback=!0}catch{}a=l()}let t=a;return n={open:async(e,a=!1,r="no-encryption",n=1)=>{try{return await function(e,t=3e3){return Promise.race([e,new Promise((e,a)=>setTimeout(()=>a(Error("timeout")),t))])}(t.open({database:e,version:n,encrypted:a,mode:r}))}catch{try{console.warn("⚠️ MODO RECAPE: Rodando sem SQLite nativo")}catch{}s=!0;try{window.offline=!0}catch{}try{window.db_fallback=!0}catch{}return{execute:async()=>{},run:async()=>{},query:async()=>void 0,close:async()=>{}}}}}}catch{s=!0;try{window.offline=!0}catch{}try{window.db_fallback=!0}catch{}return a=l(),n={open:async()=>({execute:async()=>{},run:async()=>{},query:async()=>void 0,close:async()=>{}})}}}async function o(){if(!i)try{try{if(window.db_disabled){i=!0;return}}catch{}let e=await c();if(!e){i=!0;return}let t=await e.open(r,!1,"no-encryption",1);await t.execute(`
      CREATE TABLE IF NOT EXISTS trips (
        id TEXT PRIMARY KEY NOT NULL,
        title TEXT NOT NULL,
        date TEXT NOT NULL,
        passengers INTEGER,
        flightNotes TEXT,
        reachedFinalCalendar INTEGER DEFAULT 0,
        savedCalendarName TEXT,
        savedAt INTEGER
      );
    `),await t.execute(`
      CREATE TABLE IF NOT EXISTS events (
        event_id INTEGER PRIMARY KEY AUTOINCREMENT,
        trip_id TEXT NOT NULL,
        name TEXT NOT NULL,
        label TEXT,
        date TEXT NOT NULL,
        time TEXT,
        address TEXT,
        type TEXT,
        FOREIGN KEY (trip_id) REFERENCES trips(id) ON DELETE CASCADE
      );
    `),await t.execute(`
      CREATE TABLE IF NOT EXISTS attachments (
        att_id INTEGER PRIMARY KEY AUTOINCREMENT,
        trip_id TEXT NOT NULL,
        leg TEXT NOT NULL,
        name TEXT NOT NULL,
        type TEXT NOT NULL,
        size INTEGER NOT NULL,
        file_id TEXT NOT NULL,
        FOREIGN KEY (trip_id) REFERENCES trips(id) ON DELETE CASCADE
      );
    `);try{await t.execute("ALTER TABLE attachments ADD COLUMN category TEXT")}catch{}try{await t.execute("ALTER TABLE attachments ADD COLUMN ref TEXT")}catch{}await t.close(),i=!0}catch{i=!0}}async function d(){try{if(!t)try{let a=await e.A(40402);t=a.Preferences??a}catch{}let a=t?await t.get({key:"migration_complete"}):void 0;if("true"===(a?.value||""))return}catch{}try{let e=localStorage.getItem("calentrip:trips"),a=e?JSON.parse(e):[];if(!a.length){t&&await t.set({key:"migration_complete",value:"true"});return}let n=await c();if(!n){t&&await t.set({key:"migration_complete",value:"true"});return}let i=await n.open(r,!1,"no-encryption",1);for(let e of a){let t=JSON.stringify(e.flightNotes||[]),a=+!!e.reachedFinalCalendar,r=e.savedAt??Date.now();await i.run("INSERT OR REPLACE INTO trips (id, title, date, passengers, flightNotes, reachedFinalCalendar, savedCalendarName, savedAt) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e.id,e.title,e.date,e.passengers,t,a,e.savedCalendarName||null,r]);let n=e.savedEvents||[];if(Array.isArray(n)&&n.length)for(let t of(await i.run("DELETE FROM events WHERE trip_id = ?",[e.id]),n))await i.run("INSERT INTO events (trip_id, name, label, date, time, address, type) VALUES (?, ?, ?, ?, ?, ?, ?)",[e.id,t.name||t.label||"Evento",t.label||null,t.date,t.time||null,t.address||null,t.type||null]);let s=e.attachments||[];if(Array.isArray(s)&&s.length)for(let t of(await i.run("DELETE FROM attachments WHERE trip_id = ?",[e.id]),s))await i.run("INSERT INTO attachments (trip_id, leg, name, type, size, file_id) VALUES (?, ?, ?, ?, ?, ?)",[e.id,t.leg,t.name,t.type,t.size,t.id||""])}await i.close(),t&&await t.set({key:"migration_complete",value:"true"})}catch{try{t&&await t.set({key:"migration_complete",value:"true"})}catch{}}}async function u(e){await o();let t=await c();if(!t||s){try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),a=[e,...t].slice(0,20);localStorage.setItem("calentrip:trips",JSON.stringify(a))}catch{}return}try{let a=await t.open(r,!1,"no-encryption",1);await a.run("INSERT OR REPLACE INTO trips (id, title, date, passengers, flightNotes, reachedFinalCalendar, savedCalendarName, savedAt) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e.id,e.title,e.date,e.passengers,JSON.stringify(e.flightNotes||[]),+!!e.reachedFinalCalendar,e.savedCalendarName||null,Date.now()]),await a.close()}catch{s=!0;try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),a=[e,...t].slice(0,20);localStorage.setItem("calentrip:trips",JSON.stringify(a))}catch{}}}async function p(e,t){if(await o(),!await c()||s){try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),r=a.findIndex(t=>t.id===e);if(r>=0){let e=[...a];e[r]={...e[r],...t},localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let a=[],n=[];if(void 0!==t.title&&(a.push("title = ?"),n.push(t.title)),void 0!==t.date&&(a.push("date = ?"),n.push(t.date)),void 0!==t.passengers&&(a.push("passengers = ?"),n.push(t.passengers)),void 0!==t.flightNotes&&(a.push("flightNotes = ?"),n.push(JSON.stringify(t.flightNotes||[]))),void 0!==t.reachedFinalCalendar&&(a.push("reachedFinalCalendar = ?"),n.push(+!!t.reachedFinalCalendar)),void 0!==t.savedCalendarName&&(a.push("savedCalendarName = ?"),n.push(t.savedCalendarName||null)),void 0!==t.savedAt&&(a.push("savedAt = ?"),n.push(t.savedAt)),!a.length)return;let i=`UPDATE trips SET ${a.join(", ")} WHERE id = ?`,l=await c(),d=await l.open(r,!1,"no-encryption",1);await d.run(i,[...n,e]),await d.close()}async function m(e,t){await o();let a=await c();if(!a||s){try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),r=a.findIndex(t=>t.id===e);if(r>=0){let e=[...a];e[r].savedEvents=t,localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let n=await a.open(r,!1,"no-encryption",1);for(let a of(await n.run("DELETE FROM events WHERE trip_id = ?",[e]),t))await n.run("INSERT INTO events (trip_id, name, label, date, time, address, type) VALUES (?, ?, ?, ?, ?, ?, ?)",[e,a.name||a.label||"Evento",a.label||null,a.date,a.time||null,a.address||null,a.type||null]);await n.close()}async function h(){await o();let e=await c();if(!e||s)try{return[...JSON.parse(localStorage.getItem("calentrip:trips")||"[]")].sort((e,t)=>(e.date||"").localeCompare(t.date||""))}catch{return[]}let t=await e.open(r,!1,"no-encryption",1),a=await t.query("SELECT id, title, date, passengers, flightNotes, reachedFinalCalendar, savedCalendarName, savedAt FROM trips ORDER BY date DESC");await t.close();let n=[];for(let e of a?.values||[]){let[t,a,r,i,s,l,c,o]=e,d=(()=>{try{return JSON.parse(String(s||"[]"))}catch{return[]}})();n.push({id:t,title:a,date:r,passengers:Number(i||0),flightNotes:d,reachedFinalCalendar:!!l,savedCalendarName:c||void 0,savedAt:o||void 0})}return n}async function f(e){await o();let t=await c();if(!t||s)try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").find(t=>t.id===e);return t?.savedEvents||[]}catch{return[]}let a=await t.open(r,!1,"no-encryption",1),n=await a.query("SELECT name, label, date, time, address, type FROM events WHERE trip_id = ? ORDER BY date ASC, time ASC",[e]);await a.close();let i=[];for(let e of n?.values||[]){let[t,a,r,n,s,l]=e;i.push({name:t,label:a||void 0,date:r,time:n||void 0,address:s||void 0,type:l||void 0})}return i}async function y(e){await o();let t=await c();if(!t||s){try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").filter(t=>t.id!==e);localStorage.setItem("calentrip:trips",JSON.stringify(t))}catch{}return}let a=await t.open(r,!1,"no-encryption",1);await a.run("DELETE FROM events WHERE trip_id = ?",[e]),await a.run("DELETE FROM attachments WHERE trip_id = ?",[e]),await a.run("DELETE FROM trips WHERE id = ?",[e]),await a.close()}async function g(e,t){await o();let a=await c();if(!a||s){try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),r=a.findIndex(t=>t.id===e);if(r>=0){let e=[...a];e[r].attachments=t,localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let n=await a.open(r,!1,"no-encryption",1);for(let a of(await n.run("DELETE FROM attachments WHERE trip_id = ?",[e]),t))await n.run("INSERT INTO attachments (trip_id, leg, name, type, size, file_id) VALUES (?, ?, ?, ?, ?, ?)",[e,a.leg,a.name,a.type,a.size,a.id]);await n.close()}async function x(e,t,a,n){await o();let i=await c();if(!i||s){try{let r=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),i=r.findIndex(t=>t.id===e);if(i>=0){let e=[...r],s=(e[i].attachments||[]).concat(n.map(e=>({category:t,ref:a,name:e.name,type:e.type,size:e.size,id:e.id})));e[i].attachments=s,localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let l=await i.open(r,!1,"no-encryption",1);for(let r of n)await l.run("INSERT INTO attachments (trip_id, leg, name, type, size, file_id, category, ref) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e,t,r.name,r.type,r.size,r.id,t,a]);await l.close()}async function v(e,t,a){await o();let n=await c();if(!n||s)try{let r=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").find(t=>t.id===e);return(r?.attachments||[]).filter(e=>(!t||e.category===t||e.leg===t)&&(!a||e.ref===a)).map(e=>({name:e.name,type:e.type,size:e.size,id:e.id||""}))}catch{return[]}let i=await n.open(r,!1,"no-encryption",1),l="SELECT name, type, size, file_id FROM attachments WHERE trip_id = ?",d=[e];t&&(l+=" AND category = ?",d.push(t)),a&&(l+=" AND ref = ?",d.push(a));let u=await i.query(l,d);return await i.close(),(u?.values||[]).map(e=>{let[t,a,r,n]=e;return{name:t,type:a,size:Number(r||0),id:n}})}async function N(e,t){await o();let a=await c();if(!a||s)try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").find(t=>t.id===e),r=a?.attachments||[],n=r.map(e=>({name:e.name,type:e.type,size:e.size,id:e.id||""}));return t?n.filter((e,a)=>r[a]?.leg===t):n}catch{return[]}let n=await a.open(r,!1,"no-encryption",1),i=await n.query(t?"SELECT name, type, size, file_id FROM attachments WHERE trip_id = ? AND leg = ?":"SELECT name, type, size, file_id FROM attachments WHERE trip_id = ?",t?[e,t]:[e]);return await n.close(),(i?.values||[]).map(e=>{let[t,a,r,n]=e;return{name:t,type:a,size:Number(r||0),id:n}})}e.s(["addTrip",()=>u,"getRefAttachments",()=>v,"getSavedTrips",()=>h,"getTripAttachments",()=>N,"getTripEvents",()=>f,"initDatabase",()=>o,"migrateFromLocalStorage",()=>d,"removeTrip",()=>y,"saveCalendarEvents",()=>m,"saveRefAttachments",()=>x,"saveTripAttachments",()=>g,"updateTrip",()=>p])},87959,e=>{"use strict";let t="attachments";function a(){return new Promise((e,a)=>{let r=indexedDB.open("calentrip-db",1);r.onupgradeneeded=()=>{let e=r.result;e.objectStoreNames.contains(t)||e.createObjectStore(t,{keyPath:"id"})},r.onsuccess=()=>e(r.result),r.onerror=()=>a(r.error)})}async function r(e){let r=await a(),n=`${Date.now()}-${Math.random().toString(36).slice(2)}`,i={id:n,name:e.name,type:e.type,size:e.size,data:e.slice(0,e.size,e.type)};return await new Promise((e,a)=>{let n=r.transaction(t,"readwrite");n.oncomplete=()=>e(),n.onerror=()=>a(n.error),n.objectStore(t).put(i)}),{id:n,name:i.name,type:i.type,size:i.size}}async function n(e,t){let a=function(e){let t=e.split(","),a=t[0].match(/:(.*?);/),r=a?a[1]:"application/octet-stream",n=atob(t[1]||""),i=n.length,s=new Uint8Array(i);for(;i--;)s[i]=n.charCodeAt(i);return new Blob([s],{type:r})}(e),n=new File([a],t||`attachment-${Date.now()}`,{type:a.type});return await r(n)}async function i(e){let r=await a();return await new Promise((a,n)=>{let i=r.transaction(t,"readonly");i.onerror=()=>n(i.error);let s=i.objectStore(t).get(e);s.onsuccess=()=>{let e=s.result;a(e?e.data:null)},s.onerror=()=>n(s.error)})}async function s(e){let t=await i(e);return t?URL.createObjectURL(t):null}async function l(e){let r=await a();await new Promise((a,n)=>{let i=r.transaction(t,"readwrite");i.oncomplete=()=>a(),i.onerror=()=>n(i.error),i.objectStore(t).delete(e)})}e.s(["getBlob",()=>i,"getObjectUrl",()=>s,"remove",()=>l,"saveFromDataUrl",()=>n,"saveFromFile",()=>r])},9606,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),n=e.i(45295),i=e.i(73635),s=e.i(33499),l=e.i(15288),c=e.i(19455),o=e.i(93479),d=e.i(76639),u=e.i(30826),p=e.i(87959);function m(){let e=(0,r.useRouter)(),{tripSearch:m}=(0,n.useTrip)(),{t:h}=(0,s.useI18n)(),{show:f,dismiss:y}=(0,i.useToast)(),g=(0,a.useRef)(null),x=(0,a.useCallback)((e,t)=>{g.current&&y(g.current);let a=f(e,t);return g.current=a,a},[f,y]),[v,N]=(0,a.useState)(0);(0,a.useEffect)(()=>{try{let e=new URLSearchParams(window.location.search),t=Number(e.get("i")||"0");N(Number.isFinite(t)&&t>=0?t:0)}catch{}},[]);let[w,b]=(0,a.useState)([]),[E,S]=(0,a.useState)(null),[T,j]=(0,a.useState)("train"),[C,R]=(0,a.useState)(""),[O,I]=(0,a.useState)(""),L=(0,a.useRef)(null),A=(0,a.useRef)(null),[_,U]=(0,a.useState)(""),[z,k]=(0,a.useState)(""),F=(0,a.useRef)(null),D=(0,a.useRef)(null),[M,B]=(0,a.useState)([]),$=(0,a.useRef)(null),P=(0,a.useRef)(null),[J,H]=(0,a.useState)(!1),[X,K]=(0,a.useState)(null),[G,W]=(0,a.useState)(null),[Y,q]=(0,a.useState)("train"),[V,Q]=(0,a.useState)(""),[Z,ee]=(0,a.useState)(""),et=(0,a.useRef)(null),ea=(0,a.useRef)(null),[er,en]=(0,a.useState)(""),[ei,es]=(0,a.useState)(""),el=(0,a.useRef)(null),ec=(0,a.useRef)(null),[eo,ed]=(0,a.useState)([]),eu=(0,a.useRef)(null),ep=(0,a.useRef)(null),em=(0,a.useRef)(null),eh=(0,a.useRef)(null),ef=(0,a.useRef)(!1);async function ey(){try{await (0,u.initDatabase)();try{await (0,u.migrateFromLocalStorage)()}catch{}let e=await (0,u.getSavedTrips)(),t=localStorage.getItem("calentrip:tripSearch"),a=t?JSON.parse(t):null;if(a){let t,r="same"===a.mode,n=r?a.origin:a.outbound?.origin,i=r?a.destination:a.outbound?.destination,s=r?a.departDate:a.outbound?.date,l=(t=a.passengers||{},Number(t.adults||0)+Number(t.children||0)+Number(t.infants||0)),c=n&&i?`${n} → ${i}`:"",o=e.find(e=>e.title===c&&e.date===s&&Number(e.passengers||0)===l);if(o)return String(o.id)}let r=e.find(e=>e.reachedFinalCalendar)||(e.length?e[0]:null);return r?String(r.id):null}catch{return null}}async function eg(){try{if(!M.length)return;let e=await ey();if(!e)return;let t=`${ev}->${eN}`,a=(await Promise.all(M.map(async e=>{if(!e.dataUrl)return null;let t=await (0,p.saveFromDataUrl)(e.dataUrl,e.name);return{name:e.name,type:e.type,size:e.size,id:t.id}}))).filter(Boolean);if(!a.length)return;await (0,u.saveRefAttachments)(e,"transport",t,a),B([])}catch{}}async function ex(e,t){try{if(!eo.length)return;let a=await ey();if(!a)return;let r=`${e}->${t}`,n=(await Promise.all(eo.map(async e=>{if(!e.dataUrl)return null;let t=await (0,p.saveFromDataUrl)(e.dataUrl,e.name);return{name:e.name,type:e.type,size:e.size,id:t.id}}))).filter(Boolean);if(!n.length)return;await (0,u.saveRefAttachments)(a,"transport",r,n),ed([])}catch{}}(0,a.useEffect)(()=>{try{let e=localStorage.getItem("calentrip_trip_summary"),t=e?JSON.parse(e):null,a=t?.cities||[];b(a),a.length||ef.current||(x(h("backAndInformStaysMessage"),{duration:7e3}),ef.current=!0)}catch{}},[x,h]);let ev=w[v]?.name||"",eN=w[v+1]?.name||"",ew=null!=X&&w[X]?.name||"",eb=null!=X&&w[X+1]?.name||"";function eE(e){let t=(e||"").replace(/[^0-9]/g,"").slice(0,4);return t.length<=2?t:`${t.slice(0,2)}:${t.slice(2)}`}return((0,a.useEffect)(()=>{ev&&eN&&(em.current!==v&&(x(h("fillTransportFieldsHint"),{duration:7e3}),em.current=v),(async()=>{let e=`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(ev)}&destination=${encodeURIComponent(eN)}`,t=new URLSearchParams({lang:"pt-BR",currency:"BRL"});try{let e=w[v]?.checkout||"";e&&t.set("date",e)}catch{}let a=`https://www.rome2rio.com/s/${encodeURIComponent(ev)}/${encodeURIComponent(eN)}`;S({gmapsUrl:e,r2rUrl:t.toString()?`${a}?${t.toString()}`:a})})())},[ev,eN,w,v,x,h]),(0,a.useEffect)(()=>{R(""),I(""),U(""),k("")},[]),(0,a.useEffect)(()=>{null==X||ew&&eb&&(eh.current!==X&&(x(h("fillTransportFieldsHint"),{duration:3e3}),eh.current=X),Q(""),ee(""),en(""),es(""),(async()=>{let e=`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(ew)}&destination=${encodeURIComponent(eb)}`,t=new URLSearchParams({lang:"pt-BR",currency:"BRL"});try{let e=w[X]?.checkout||"";e&&t.set("date",e)}catch{}let a=`https://www.rome2rio.com/s/${encodeURIComponent(ew)}/${encodeURIComponent(eb)}`;W({gmapsUrl:e,r2rUrl:t.toString()?`${a}?${t.toString()}`:a})})())},[X,ew,eb,w,x,h]),(0,a.useEffect)(()=>{if("car"===T){try{let e=localStorage.getItem("calentrip_trip_summary"),t=e?JSON.parse(e):null,a=t?.cities||[],r={mode:"car",dep:"",arr:"",depTime:"",arrTime:""},n=a.map((e,t)=>t===v?{...e,transportToNext:r}:e);localStorage.setItem("calentrip_trip_summary",JSON.stringify({cities:n}))}catch{}x(h("ownTransportSelectedGoingSummary"),{duration:3e3});try{localStorage.setItem("calentrip:show_summary","1")}catch{}e.push("/accommodation/search")}},[T,v,e,x,h]),m)?(0,t.jsxs)("div",{className:"min-h-screen px-4 py-6 space-y-6",children:[(0,t.jsx)("div",{className:"container-page grid grid-cols-1 gap-6 md:grid-cols-2",children:(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{className:"flex items-center gap-2",children:(0,t.jsx)("span",{children:h("transportBetween")})})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"mb-2",children:[ev," → ",eN]}),(0,t.jsxs)("ul",{className:"space-y-1 mb-2",children:[(0,t.jsx)("li",{children:(0,t.jsxs)("a",{className:"text-[#febb02] underline decoration-2 underline-offset-2 font-semibold hover:text-amber-700 flex items-center gap-1",href:E?.r2rUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"alt_route"}),(0,t.jsx)("span",{children:h("seeOptionsOnRome2Rio")})]})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"text-[#febb02] underline decoration-2 underline-offset-2 font-semibold hover:text-amber-700",href:"https://www.rentalcars.com/",target:"_blank",rel:"noopener noreferrer",children:h("rentalcarsLabel")})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"text-[#febb02] underline decoration-2 underline-offset-2 font-semibold hover:text-amber-700",href:E?.gmapsUrl,target:"_blank",rel:"noopener noreferrer",children:h("googleMapsLabel")})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportModeLabel")}),(0,t.jsxs)("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:T,onChange:e=>j(e.target.value),children:[(0,t.jsx)("option",{value:"air",children:h("modeAir")}),(0,t.jsx)("option",{value:"train",children:h("modeTrain")}),(0,t.jsx)("option",{value:"bus",children:h("modeBus")}),(0,t.jsx)("option",{value:"car",children:h("modeCar")})]})]}),"car"!==T?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportOriginLabel")}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(o.Input,{placeholder:h("transportOriginPlaceholder"),value:C,type:"text",inputMode:"text",autoCapitalize:"none",autoCorrect:"off",enterKeyHint:"next",ref:L,onChange:e=>{R(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportDestinationLabel")}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(o.Input,{placeholder:h("transportDestinationPlaceholder"),value:O,type:"text",inputMode:"text",autoCapitalize:"none",autoCorrect:"off",enterKeyHint:"next",ref:A,onChange:e=>{I(e.target.value)}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("departureTime")}),(0,t.jsx)(o.Input,{placeholder:h("timePlaceholder"),value:_,type:"tel",inputMode:"numeric",pattern:"[0-9]*",enterKeyHint:"next",ref:F,onChange:e=>{U(eE(e.target.value))}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("arrivalTime")}),(0,t.jsx)(o.Input,{placeholder:h("timePlaceholder"),value:z,type:"tel",inputMode:"numeric",pattern:"[0-9]*",enterKeyHint:"next",ref:D,onChange:e=>{k(eE(e.target.value))}})]})]}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportDocsTitle")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(c.Button,{type:"button",variant:"secondary",className:"px-2 py-1 text-xs",onClick:()=>$.current?.click(),children:h("useCamera")}),(0,t.jsx)(c.Button,{type:"button",variant:"secondary",className:"px-2 py-1 text-xs",onClick:()=>P.current?.click(),children:h("chooseFiles")}),(0,t.jsxs)("span",{className:"text-xs text-zinc-600",children:[h("attachmentsLabel"),": ",M.length]})]}),(0,t.jsx)("input",{ref:$,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:async e=>{let t=e.target.files?.[0];if(t)try{let e=await t.arrayBuffer(),a=btoa(String.fromCharCode(...new Uint8Array(e))),r=`data:${t.type};base64,${a}`;B(e=>[...e,{name:t.name,type:t.type,size:t.size,dataUrl:r}])}catch{B(e=>[...e,{name:t.name,type:t.type,size:t.size}])}finally{try{e.target.value=""}catch{}}}}),(0,t.jsx)("input",{ref:P,type:"file",multiple:!0,className:"hidden",onChange:async e=>{for(let t of Array.from(e.target.files||[]))try{let e=await t.arrayBuffer(),a=btoa(String.fromCharCode(...new Uint8Array(e))),r=`data:${t.type};base64,${a}`;B(e=>[...e,{name:t.name,type:t.type,size:t.size,dataUrl:r}])}catch{B(e=>[...e,{name:t.name,type:t.type,size:t.size}])}try{e.target.value=""}catch{}}})]})]}):null,(0,t.jsx)("div",{className:"mt-3 flex justify-end",children:"car"!==T?(0,t.jsx)(c.Button,{type:"button",onClick:()=>{!function(){try{let t=localStorage.getItem("calentrip_trip_summary"),a=t?JSON.parse(t):null,r=a?.cities||[],n={mode:T,dep:L.current?.value??C,arr:A.current?.value??O,depTime:F.current?.value??_,arrTime:D.current?.value??z,files:M},i=r.map((e,t)=>t===v?{...e,transportToNext:n}:e);if(localStorage.setItem("calentrip_trip_summary",JSON.stringify({cities:i})),x(h("transportSavedGoSummary"),{variant:"success",duration:3e3}),v+1<i.length-1)x(h("openingNextTransportMsg"),{duration:3e3}),K(v+1),H(!0),Q(""),ee(""),en(""),es("");else{x(h("transportSavedGoSummary"),{duration:3e3});try{localStorage.setItem("calentrip:show_summary","1")}catch{}e.push("/accommodation/search");try{setTimeout(()=>{try{(window.location.pathname||"").includes("/accommodation/search")||(window.location.href="/accommodation/search")}catch{}},600)}catch{}}}catch{x(h("saveErrorMsg"),{variant:"error"})}}(),eg()},children:h("saveTransport")}):(0,t.jsx)(c.Button,{type:"button",onClick:()=>e.push("/accommodation/search"),children:h("goToSummaryButton")})})]})})]})}),(0,t.jsxs)(d.Dialog,{open:J,onOpenChange:H,placement:"bottom",children:[(0,t.jsx)(d.DialogHeader,{children:h("transportBetween")}),(0,t.jsxs)("div",{className:"space-y-3 text-sm px-4 pb-4",children:[(0,t.jsxs)("div",{className:"mb-2",children:[ew," → ",eb]}),(0,t.jsxs)("ul",{className:"space-y-1 mb-2",children:[(0,t.jsx)("li",{children:(0,t.jsxs)("a",{className:"text-[#febb02] underline decoration-2 underline-offset-2 font-semibold hover:text-amber-700 flex items-center gap-1",href:G?.r2rUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"alt_route"}),(0,t.jsx)("span",{children:h("seeOptionsOnRome2Rio")})]})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"text-[#febb02] underline decoration-2 underline-offset-2 font-semibold hover:text-amber-700",href:"https://www.rentalcars.com/",target:"_blank",rel:"noopener noreferrer",children:h("rentalcarsLabel")})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"text-[#febb02] underline decoration-2 underline-offset-2 font-semibold hover:text-amber-700",href:G?.gmapsUrl,target:"_blank",rel:"noopener noreferrer",children:h("googleMapsLabel")})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportModeLabel")}),(0,t.jsxs)("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:Y,onChange:e=>q(e.target.value),children:[(0,t.jsx)("option",{value:"air",children:h("modeAir")}),(0,t.jsx)("option",{value:"train",children:h("modeTrain")}),(0,t.jsx)("option",{value:"bus",children:h("modeBus")}),(0,t.jsx)("option",{value:"car",children:h("modeCar")})]})]}),"car"!==Y?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportOriginLabel")}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(o.Input,{placeholder:h("transportOriginPlaceholder"),value:V,type:"text",inputMode:"text",autoCapitalize:"none",autoCorrect:"off",enterKeyHint:"next",ref:et,onChange:e=>{Q(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportDestinationLabel")}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(o.Input,{placeholder:h("transportDestinationPlaceholder"),value:Z,type:"text",inputMode:"text",autoCapitalize:"none",autoCorrect:"off",enterKeyHint:"next",ref:ea,onChange:e=>{ee(e.target.value)}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("departureTime")}),(0,t.jsx)(o.Input,{placeholder:h("timePlaceholder"),value:er,type:"tel",inputMode:"numeric",pattern:"[0-9]*",enterKeyHint:"next",ref:el,onChange:e=>{en(eE(e.target.value))}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("arrivalTime")}),(0,t.jsx)(o.Input,{placeholder:h("timePlaceholder"),value:ei,type:"tel",inputMode:"numeric",pattern:"[0-9]*",enterKeyHint:"next",ref:ec,onChange:e=>{es(eE(e.target.value))}})]})]}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:h("transportDocsTitle")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(c.Button,{type:"button",variant:"secondary",className:"px-2 py-1 text-xs",onClick:()=>eu.current?.click(),children:h("useCamera")}),(0,t.jsx)(c.Button,{type:"button",variant:"secondary",className:"px-2 py-1 text-xs",onClick:()=>ep.current?.click(),children:h("chooseFiles")}),(0,t.jsxs)("span",{className:"text-xs text-zinc-600",children:[h("attachmentsLabel"),": ",eo.length]})]}),(0,t.jsx)("input",{ref:eu,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:async e=>{let t=e.target.files?.[0];if(t)try{let e=await t.arrayBuffer(),a=btoa(String.fromCharCode(...new Uint8Array(e))),r=`data:${t.type};base64,${a}`;ed(e=>[...e,{name:t.name,type:t.type,size:t.size,dataUrl:r}])}catch{ed(e=>[...e,{name:t.name,type:t.type,size:t.size}])}finally{try{e.target.value=""}catch{}}}}),(0,t.jsx)("input",{ref:ep,type:"file",multiple:!0,className:"hidden",onChange:async e=>{for(let t of Array.from(e.target.files||[]))try{let e=await t.arrayBuffer(),a=btoa(String.fromCharCode(...new Uint8Array(e))),r=`data:${t.type};base64,${a}`;ed(e=>[...e,{name:t.name,type:t.type,size:t.size,dataUrl:r}])}catch{ed(e=>[...e,{name:t.name,type:t.type,size:t.size}])}try{e.target.value=""}catch{}}})]})]}):null,(0,t.jsx)("div",{className:"mt-3 flex justify-end",children:"car"!==Y?(0,t.jsx)(c.Button,{type:"button",onClick:()=>{!function(){try{if(null==X)return;let t=localStorage.getItem("calentrip_trip_summary"),a=t?JSON.parse(t):null,r=a?.cities||[],n={mode:Y,dep:et.current?.value??V,arr:ea.current?.value??Z,depTime:el.current?.value??er,arrTime:ec.current?.value??ei,files:eo},i=r.map((e,t)=>t===X?{...e,transportToNext:n}:e);if(localStorage.setItem("calentrip_trip_summary",JSON.stringify({cities:i})),x(h("transportSavedGoSummary"),{variant:"success",duration:3e3}),ex(ew,eb),X+1<i.length-1)x(h("openingNextTransportMsg"),{duration:3e3}),K(e=>null==e?null:e+1),Q(""),ee(""),en(""),es("");else{x(h("transportSavedGoSummary"),{duration:3e3});try{localStorage.setItem("calentrip:show_summary","1")}catch{}H(!1),e.push("/accommodation/search");try{setTimeout(()=>{try{(window.location.pathname||"").includes("/accommodation/search")||(window.location.href="/accommodation/search")}catch{}},600)}catch{}}}catch{x(h("saveErrorMsg"),{variant:"error"})}}()},children:h("saveTransport")}):(0,t.jsx)(c.Button,{type:"button",onClick:()=>{H(!1),e.push("/accommodation/search")},children:h("goToSummaryButton")})})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"mb-3",children:h("noTrips")}),(0,t.jsx)(c.Button,{onClick:()=>e.push("/flights/search"),children:h("searchFlights")})]})})}e.s(["default",()=>m,"dynamic",0,"force-dynamic"])},53119,e=>{e.v(t=>Promise.all(["static/chunks/234e8831830d8296.js"].map(t=>e.l(t))).then(()=>t(51001)))},40402,e=>{e.v(t=>Promise.all(["static/chunks/da5d6c94d3bd3190.js"].map(t=>e.l(t))).then(()=>t(58981)))}]);