(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476);function a({className:e="",...a}){return(0,t.jsx)("div",{className:`rounded-lg border border-zinc-200 bg-white p-4 shadow-sm dark:bg-black dark:border-zinc-800 ${e}`,...a})}function i({className:e="",...a}){return(0,t.jsx)("div",{className:`mb-3 ${e}`,...a})}function n({className:e="",...a}){return(0,t.jsx)("h3",{className:`text-lg font-semibold ${e}`,...a})}function r({className:e="",...a}){return(0,t.jsx)("div",{className:`${e}`,...a})}e.s(["Card",()=>a,"CardContent",()=>r,"CardHeader",()=>i,"CardTitle",()=>n])},93479,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let i=(0,a.forwardRef)(function({className:e="",clearOnFocus:i=!1,...n},r){let[o,s]=(0,a.useState)(!1),l=(0,a.useRef)(void 0),{onFocus:c,onBlur:d,onChange:u,value:m}=n;return(0,t.jsx)("input",{ref:r,className:`w-full h-12 rounded-lg border border-zinc-300 bg-white px-3 text-sm placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-[#007AFF]/30 disabled:opacity-50 dark:bg-black dark:border-zinc-700 dark:text-zinc-100 ${e}`,...n,...void 0!==m?{value:o?"":m}:{},onFocus:e=>{l.current=m,s(i&&void 0!==m&&""!==String(m)),c?.(e)},onBlur:e=>{s(!1),d?.(e)},onChange:e=>{s(!1),u?.(e)}})});e.s(["Input",0,i])},30826,e=>{"use strict";let t=null,a=null,i="calentrip_db",n=null,r=!1,o=!1;function s(){try{console.warn("⚠️ MODO RECAPE: Rodando sem SQLite nativo")}catch{}return{async createConnection(){},open:async()=>({execute:async()=>{},run:async()=>{},query:async()=>void 0,close:async()=>{}})}}async function l(){if(n)return n;try{try{window.db_disabled&&(o=!0,a=s())}catch{}if(!a)try{let t=await e.A(53119);a=t.CapacitorSQLite??t}catch{o=!0;try{window.offline=!0}catch{}try{window.db_fallback=!0}catch{}a=s()}let t=a;return n={open:async(e,a=!1,i="no-encryption",n=1)=>{try{return await function(e,t=3e3){return Promise.race([e,new Promise((e,a)=>setTimeout(()=>a(Error("timeout")),t))])}(t.open({database:e,version:n,encrypted:a,mode:i}))}catch{try{console.warn("⚠️ MODO RECAPE: Rodando sem SQLite nativo")}catch{}o=!0;try{window.offline=!0}catch{}try{window.db_fallback=!0}catch{}return{execute:async()=>{},run:async()=>{},query:async()=>void 0,close:async()=>{}}}}}}catch{o=!0;try{window.offline=!0}catch{}try{window.db_fallback=!0}catch{}return a=s(),n={open:async()=>({execute:async()=>{},run:async()=>{},query:async()=>void 0,close:async()=>{}})}}}async function c(){if(!r)try{try{if(window.db_disabled){r=!0;return}}catch{}let e=await l();if(!e){r=!0;return}let t=await e.open(i,!1,"no-encryption",1);await t.execute(`
      CREATE TABLE IF NOT EXISTS trips (
        id TEXT PRIMARY KEY NOT NULL,
        title TEXT NOT NULL,
        date TEXT NOT NULL,
        passengers INTEGER,
        flightNotes TEXT,
        reachedFinalCalendar INTEGER DEFAULT 0,
        savedCalendarName TEXT,
        savedAt INTEGER
      );
    `),await t.execute(`
      CREATE TABLE IF NOT EXISTS events (
        event_id INTEGER PRIMARY KEY AUTOINCREMENT,
        trip_id TEXT NOT NULL,
        name TEXT NOT NULL,
        label TEXT,
        date TEXT NOT NULL,
        time TEXT,
        address TEXT,
        type TEXT,
        FOREIGN KEY (trip_id) REFERENCES trips(id) ON DELETE CASCADE
      );
    `),await t.execute(`
      CREATE TABLE IF NOT EXISTS attachments (
        att_id INTEGER PRIMARY KEY AUTOINCREMENT,
        trip_id TEXT NOT NULL,
        leg TEXT NOT NULL,
        name TEXT NOT NULL,
        type TEXT NOT NULL,
        size INTEGER NOT NULL,
        file_id TEXT NOT NULL,
        FOREIGN KEY (trip_id) REFERENCES trips(id) ON DELETE CASCADE
      );
    `);try{await t.execute("ALTER TABLE attachments ADD COLUMN category TEXT")}catch{}try{await t.execute("ALTER TABLE attachments ADD COLUMN ref TEXT")}catch{}await t.close(),r=!0}catch{r=!0}}async function d(){try{if(!t)try{let a=await e.A(40402);t=a.Preferences??a}catch{}let a=t?await t.get({key:"migration_complete"}):void 0;if("true"===(a?.value||""))return}catch{}try{let e=localStorage.getItem("calentrip:trips"),a=e?JSON.parse(e):[];if(!a.length){t&&await t.set({key:"migration_complete",value:"true"});return}let n=await l();if(!n){t&&await t.set({key:"migration_complete",value:"true"});return}let r=await n.open(i,!1,"no-encryption",1);for(let e of a){let t=JSON.stringify(e.flightNotes||[]),a=+!!e.reachedFinalCalendar,i=e.savedAt??Date.now();await r.run("INSERT OR REPLACE INTO trips (id, title, date, passengers, flightNotes, reachedFinalCalendar, savedCalendarName, savedAt) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e.id,e.title,e.date,e.passengers,t,a,e.savedCalendarName||null,i]);let n=e.savedEvents||[];if(Array.isArray(n)&&n.length)for(let t of(await r.run("DELETE FROM events WHERE trip_id = ?",[e.id]),n))await r.run("INSERT INTO events (trip_id, name, label, date, time, address, type) VALUES (?, ?, ?, ?, ?, ?, ?)",[e.id,t.name||t.label||"Evento",t.label||null,t.date,t.time||null,t.address||null,t.type||null]);let o=e.attachments||[];if(Array.isArray(o)&&o.length)for(let t of(await r.run("DELETE FROM attachments WHERE trip_id = ?",[e.id]),o))await r.run("INSERT INTO attachments (trip_id, leg, name, type, size, file_id) VALUES (?, ?, ?, ?, ?, ?)",[e.id,t.leg,t.name,t.type,t.size,t.id||""])}await r.close(),t&&await t.set({key:"migration_complete",value:"true"})}catch{try{t&&await t.set({key:"migration_complete",value:"true"})}catch{}}}async function u(e){await c();let t=await l();if(!t||o){try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),a=[e,...t].slice(0,20);localStorage.setItem("calentrip:trips",JSON.stringify(a))}catch{}return}try{let a=await t.open(i,!1,"no-encryption",1);await a.run("INSERT OR REPLACE INTO trips (id, title, date, passengers, flightNotes, reachedFinalCalendar, savedCalendarName, savedAt) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e.id,e.title,e.date,e.passengers,JSON.stringify(e.flightNotes||[]),+!!e.reachedFinalCalendar,e.savedCalendarName||null,Date.now()]),await a.close()}catch{o=!0;try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),a=[e,...t].slice(0,20);localStorage.setItem("calentrip:trips",JSON.stringify(a))}catch{}}}async function m(e,t){if(await c(),!await l()||o){try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),i=a.findIndex(t=>t.id===e);if(i>=0){let e=[...a];e[i]={...e[i],...t},localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let a=[],n=[];if(void 0!==t.title&&(a.push("title = ?"),n.push(t.title)),void 0!==t.date&&(a.push("date = ?"),n.push(t.date)),void 0!==t.passengers&&(a.push("passengers = ?"),n.push(t.passengers)),void 0!==t.flightNotes&&(a.push("flightNotes = ?"),n.push(JSON.stringify(t.flightNotes||[]))),void 0!==t.reachedFinalCalendar&&(a.push("reachedFinalCalendar = ?"),n.push(+!!t.reachedFinalCalendar)),void 0!==t.savedCalendarName&&(a.push("savedCalendarName = ?"),n.push(t.savedCalendarName||null)),void 0!==t.savedAt&&(a.push("savedAt = ?"),n.push(t.savedAt)),!a.length)return;let r=`UPDATE trips SET ${a.join(", ")} WHERE id = ?`,s=await l(),d=await s.open(i,!1,"no-encryption",1);await d.run(r,[...n,e]),await d.close()}async function p(e,t){await c();let a=await l();if(!a||o){try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),i=a.findIndex(t=>t.id===e);if(i>=0){let e=[...a];e[i].savedEvents=t,localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let n=await a.open(i,!1,"no-encryption",1);for(let a of(await n.run("DELETE FROM events WHERE trip_id = ?",[e]),t))await n.run("INSERT INTO events (trip_id, name, label, date, time, address, type) VALUES (?, ?, ?, ?, ?, ?, ?)",[e,a.name||a.label||"Evento",a.label||null,a.date,a.time||null,a.address||null,a.type||null]);await n.close()}async function h(){await c();let e=await l();if(!e||o)try{return[...JSON.parse(localStorage.getItem("calentrip:trips")||"[]")].sort((e,t)=>(e.date||"").localeCompare(t.date||""))}catch{return[]}let t=await e.open(i,!1,"no-encryption",1),a=await t.query("SELECT id, title, date, passengers, flightNotes, reachedFinalCalendar, savedCalendarName, savedAt FROM trips ORDER BY date DESC");await t.close();let n=[];for(let e of a?.values||[]){let[t,a,i,r,o,s,l,c]=e,d=(()=>{try{return JSON.parse(String(o||"[]"))}catch{return[]}})();n.push({id:t,title:a,date:i,passengers:Number(r||0),flightNotes:d,reachedFinalCalendar:!!s,savedCalendarName:l||void 0,savedAt:c||void 0})}return n}async function g(e){await c();let t=await l();if(!t||o)try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").find(t=>t.id===e);return t?.savedEvents||[]}catch{return[]}let a=await t.open(i,!1,"no-encryption",1),n=await a.query("SELECT name, label, date, time, address, type FROM events WHERE trip_id = ? ORDER BY date ASC, time ASC",[e]);await a.close();let r=[];for(let e of n?.values||[]){let[t,a,i,n,o,s]=e;r.push({name:t,label:a||void 0,date:i,time:n||void 0,address:o||void 0,type:s||void 0})}return r}async function y(e){await c();let t=await l();if(!t||o){try{let t=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").filter(t=>t.id!==e);localStorage.setItem("calentrip:trips",JSON.stringify(t))}catch{}return}let a=await t.open(i,!1,"no-encryption",1);await a.run("DELETE FROM events WHERE trip_id = ?",[e]),await a.run("DELETE FROM attachments WHERE trip_id = ?",[e]),await a.run("DELETE FROM trips WHERE id = ?",[e]),await a.close()}async function f(e,t){await c();let a=await l();if(!a||o){try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),i=a.findIndex(t=>t.id===e);if(i>=0){let e=[...a];e[i].attachments=t,localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let n=await a.open(i,!1,"no-encryption",1);for(let a of(await n.run("DELETE FROM attachments WHERE trip_id = ?",[e]),t))await n.run("INSERT INTO attachments (trip_id, leg, name, type, size, file_id) VALUES (?, ?, ?, ?, ?, ?)",[e,a.leg,a.name,a.type,a.size,a.id]);await n.close()}async function x(e,t,a,n){await c();let r=await l();if(!r||o){try{let i=JSON.parse(localStorage.getItem("calentrip:trips")||"[]"),r=i.findIndex(t=>t.id===e);if(r>=0){let e=[...i],o=(e[r].attachments||[]).concat(n.map(e=>({category:t,ref:a,name:e.name,type:e.type,size:e.size,id:e.id})));e[r].attachments=o,localStorage.setItem("calentrip:trips",JSON.stringify(e))}}catch{}return}let s=await r.open(i,!1,"no-encryption",1);for(let i of n)await s.run("INSERT INTO attachments (trip_id, leg, name, type, size, file_id, category, ref) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e,t,i.name,i.type,i.size,i.id,t,a]);await s.close()}async function b(e,t,a){await c();let n=await l();if(!n||o)try{let i=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").find(t=>t.id===e);return(i?.attachments||[]).filter(e=>(!t||e.category===t||e.leg===t)&&(!a||e.ref===a)).map(e=>({name:e.name,type:e.type,size:e.size,id:e.id||""}))}catch{return[]}let r=await n.open(i,!1,"no-encryption",1),s="SELECT name, type, size, file_id FROM attachments WHERE trip_id = ?",d=[e];t&&(s+=" AND category = ?",d.push(t)),a&&(s+=" AND ref = ?",d.push(a));let u=await r.query(s,d);return await r.close(),(u?.values||[]).map(e=>{let[t,a,i,n]=e;return{name:t,type:a,size:Number(i||0),id:n}})}async function N(e,t){await c();let a=await l();if(!a||o)try{let a=JSON.parse(localStorage.getItem("calentrip:trips")||"[]").find(t=>t.id===e),i=a?.attachments||[],n=i.map(e=>({name:e.name,type:e.type,size:e.size,id:e.id||""}));return t?n.filter((e,a)=>i[a]?.leg===t):n}catch{return[]}let n=await a.open(i,!1,"no-encryption",1),r=await n.query(t?"SELECT name, type, size, file_id FROM attachments WHERE trip_id = ? AND leg = ?":"SELECT name, type, size, file_id FROM attachments WHERE trip_id = ?",t?[e,t]:[e]);return await n.close(),(r?.values||[]).map(e=>{let[t,a,i,n]=e;return{name:t,type:a,size:Number(i||0),id:n}})}e.s(["addTrip",()=>u,"getRefAttachments",()=>b,"getSavedTrips",()=>h,"getTripAttachments",()=>N,"getTripEvents",()=>g,"initDatabase",()=>c,"migrateFromLocalStorage",()=>d,"removeTrip",()=>y,"saveCalendarEvents",()=>p,"saveRefAttachments",()=>x,"saveTripAttachments",()=>f,"updateTrip",()=>m])},22408,e=>{e.v([{iata:"GRU",name:"São Paulo/Guarulhos–Governador André Franco Montoro International Airport",city:"São Paulo",country:"Brazil",aliases:["Sao Paulo","Guarulhos"]},{iata:"CGH",name:"São Paulo/Congonhas Airport",city:"São Paulo",country:"Brazil",aliases:["Congonhas"]},{iata:"VCP",name:"Viracopos–Campinas International Airport",city:"Campinas",country:"Brazil",aliases:["Campinas"]},{iata:"GIG",name:"Rio de Janeiro/Galeão–Antonio Carlos Jobim International Airport",city:"Rio de Janeiro",country:"Brazil",aliases:["Galeao","Galeão","Rio"]},{iata:"SDU",name:"Santos Dumont Airport",city:"Rio de Janeiro",country:"Brazil",aliases:["Santos Dumont"]},{iata:"BSB",name:"Brasília International Airport",city:"Brasília",country:"Brazil",aliases:["Brasilia"]},{iata:"SSA",name:"Deputado Luís Eduardo Magalhães International Airport",city:"Salvador",country:"Brazil",aliases:["Salvador"]},{iata:"REC",name:"Recife/Guararapes–Gilberto Freyre International Airport",city:"Recife",country:"Brazil",aliases:["Recife"]},{iata:"JFK",name:"John F. Kennedy International Airport",city:"New York",country:"United States",aliases:["NYC","Nova Iorque"]},{iata:"LGA",name:"LaGuardia Airport",city:"New York",country:"United States",aliases:["La Guardia","NYC","Nova Iorque"]},{iata:"EWR",name:"Newark Liberty International Airport",city:"Newark",country:"United States",aliases:["NYC","Nova Iorque"]},{iata:"LHR",name:"London Heathrow Airport",city:"London",country:"United Kingdom",aliases:["Heathrow","Londres"]},{iata:"LGW",name:"London Gatwick Airport",city:"London",country:"United Kingdom",aliases:["Gatwick","Londres"]},{iata:"LCY",name:"London City Airport",city:"London",country:"United Kingdom",aliases:["Londres"]},{iata:"CDG",name:"Paris Charles de Gaulle Airport",city:"Paris",country:"France",aliases:["Charles de Gaulle","Paris"]},{iata:"ORY",name:"Paris Orly Airport",city:"Paris",country:"France",aliases:["Orly","Paris"]},{iata:"AMS",name:"Amsterdam Schiphol Airport",city:"Amsterdam",country:"Netherlands",aliases:["Schiphol","Amsterdã"]},{iata:"FRA",name:"Frankfurt Airport",city:"Frankfurt",country:"Germany",aliases:["Frankfurt"]},{iata:"MUC",name:"Munich Airport",city:"Munich",country:"Germany",aliases:["Munique"]},{iata:"MAD",name:"Adolfo Suárez Madrid–Barajas Airport",city:"Madrid",country:"Spain",aliases:["Madrid"]},{iata:"BCN",name:"Barcelona–El Prat Airport",city:"Barcelona",country:"Spain",aliases:["Barcelona"]},{iata:"LIS",name:"Lisbon Humberto Delgado Airport",city:"Lisbon",country:"Portugal",aliases:["Lisboa"]},{iata:"OPO",name:"Francisco Sá Carneiro Airport",city:"Porto",country:"Portugal",aliases:["Porto"]},{iata:"DXB",name:"Dubai International Airport",city:"Dubai",country:"United Arab Emirates",aliases:["Dubai"]},{iata:"DOH",name:"Hamad International Airport",city:"Doha",country:"Qatar",aliases:["Doha"]},{iata:"NRT",name:"Narita International Airport",city:"Tokyo",country:"Japan",aliases:["Tóquio","Tokyo"]},{iata:"HND",name:"Haneda Airport",city:"Tokyo",country:"Japan",aliases:["Tóquio"]}])},62071,e=>{"use strict";var t=e.i(22408);let a=null,i=null,n="calentrip:airports:v1";function r(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}async function o(){if(a)return a;let e=function(){try{let e=localStorage.getItem(n);return e?JSON.parse(e):null}catch{return null}}();return e&&e.length>5e3?a=c(e):(i||(i=(async()=>{try{let e=await fetch("https://raw.githubusercontent.com/mwgg/Airports/master/airports.json"),t=await e.json(),i=Object.values(t).map(e=>({iata:e.iata??"",name:e.name??"",city:e.city??"",country:e.country??"",aliases:[]})).filter(e=>e.iata&&3===e.iata.length),r=c(i);a=r;try{localStorage.setItem(n,JSON.stringify(r))}catch{}return r}catch{let e=c(t.default??[]);return a=e,e}})()),i)}async function s(e){let t=r(e.trim());return t?(await o()).filter(e=>[e.iata,e.name,e.city,e.country,...e.aliases??[]].map(e=>r(e)).some(e=>e.includes(t))).sort((e,t)=>d(e)-d(t)).slice(0,12):[]}function l(){a=null,i=null;try{localStorage.removeItem(n)}catch{}}function c(e){let t=(t,a)=>{let i=r(t);e.forEach(e=>{r(e.city)===i&&(e.aliases=Array.from(new Set([...e.aliases??[],...a])))})};return t("New York",["NYC","Nova Iorque","Nueva York"]),t("London",["Londres"]),t("Tokyo",["Tóquio","Tokio"]),t("Tokyo",["Narita","Haneda"]),t("São Paulo",["Sao Paulo"]),t("Rio de Janeiro",["Rio"]),t("Paris",["París"]),e}function d(e){let t=r(e.city),a={[r("São Paulo")]:["GRU","CGH","VCP"],[r("Rio de Janeiro")]:["GIG","SDU"],[r("New York")]:["JFK","LGA","EWR"],[r("London")]:["LHR","LGW","LCY"],[r("Paris")]:["CDG","ORY"],[r("Tokyo")]:["HND","NRT"]}[t],i=a?a.indexOf(e.iata):-1;return(i>=0?i:99)*10+(/international/i.test(e.name)?-1:0)}async function u(e){return(await o()).find(t=>t.iata.toUpperCase()===e.toUpperCase())??null}async function m(e){let t=await u(e);return t?t.country??null:null}e.s(["clearAirportsCache",()=>l,"findAirportByIata",()=>u,"getCountryByIata",()=>m,"searchAirportsAsync",()=>s])},87959,e=>{"use strict";let t="attachments";function a(){return new Promise((e,a)=>{let i=indexedDB.open("calentrip-db",1);i.onupgradeneeded=()=>{let e=i.result;e.objectStoreNames.contains(t)||e.createObjectStore(t,{keyPath:"id"})},i.onsuccess=()=>e(i.result),i.onerror=()=>a(i.error)})}async function i(e){let i=await a(),n=`${Date.now()}-${Math.random().toString(36).slice(2)}`,r={id:n,name:e.name,type:e.type,size:e.size,data:e.slice(0,e.size,e.type)};return await new Promise((e,a)=>{let n=i.transaction(t,"readwrite");n.oncomplete=()=>e(),n.onerror=()=>a(n.error),n.objectStore(t).put(r)}),{id:n,name:r.name,type:r.type,size:r.size}}async function n(e,t){let a=function(e){let t=e.split(","),a=t[0].match(/:(.*?);/),i=a?a[1]:"application/octet-stream",n=atob(t[1]||""),r=n.length,o=new Uint8Array(r);for(;r--;)o[r]=n.charCodeAt(r);return new Blob([o],{type:i})}(e),n=new File([a],t||`attachment-${Date.now()}`,{type:a.type});return await i(n)}async function r(e){let i=await a();return await new Promise((a,n)=>{let r=i.transaction(t,"readonly");r.onerror=()=>n(r.error);let o=r.objectStore(t).get(e);o.onsuccess=()=>{let e=o.result;a(e?e.data:null)},o.onerror=()=>n(o.error)})}async function o(e){let t=await r(e);return t?URL.createObjectURL(t):null}async function s(e){let i=await a();await new Promise((a,n)=>{let r=i.transaction(t,"readwrite");r.oncomplete=()=>a(),r.onerror=()=>n(r.error),r.objectStore(t).delete(e)})}e.s(["getBlob",()=>r,"getObjectUrl",()=>o,"remove",()=>s,"saveFromDataUrl",()=>n,"saveFromFile",()=>i])},15148,e=>{"use strict";var t=e.i(43476),a=e.i(22016),i=e.i(45295),n=e.i(62071),r=e.i(18566),o=e.i(71645),s=e.i(15288),l=e.i(19455),c=e.i(93479),d=e.i(76639),u=e.i(30826),m=e.i(87959),p=e.i(33499),h=e.i(73635);function g(e){if("number"==typeof e)return e;let t=e??{adults:1,children:0,infants:0};return Number(t.adults??0)+Number(t.children??0)+Number(t.infants??0)}function y(e,t,a,i){let n=a??"",r=Math.max(1,"number"==typeof i?i:Number(i.adults??1)),o="number"==typeof i?0:Number(i.children??0),s="number"==typeof i?0:Number(i.infants??0),l="undefined"!=typeof navigator?navigator.language:"",c=l.includes("-")?l.split("-")[1]:"",d=encodeURIComponent(`${e} to ${t}`);return[{name:"Google",href:`https://${"BR"===c?"www.google.com.br":"www.google.com"}/travel/flights?q=${d}&d=${n}&cabin=ECONOMY&time=any&adults=${r}`},{name:"Kayak",href:`https://www.kayak.com/flights/${e}-${t}/${n}?adults=${r}&children=${o}&infants=${s}`},{name:"Booking",href:`https://www.booking.com/flights/${e}-${t}/${n}?adults=${r}`},{name:"Skyscanner",href:`https://www.skyscanner.com.br/transporte/voos/${e}/${t}/${n.replace(/-/g,"")}/?adults=${r}&children=${o}&infants=${s}`}]}function f(){let{tripSearch:e,setTripSearch:c}=(0,i.useTrip)(),d=(0,r.useRouter)(),{t:u}=(0,p.useI18n)(),{show:m,minimize:f}=(0,h.useToast)(),[b,N]=(0,o.useState)(!1),[v,w]=(0,o.useState)(!0),[T,E]=(0,o.useState)("aggregators"),[S,j]=(0,o.useState)({}),[C,k]=(0,o.useState)(!1),[A,I]=(0,o.useState)(!1),[L,R]=(0,o.useState)(!1),z=(0,o.useMemo)(()=>{let e=S.destination??"";return e?"Brazil"===e?{title:u("docBrazilTitle"),lines:[u("docBrazilLine1"),u("docBrazilLine2")]}:["Argentina","Uruguay","Paraguay","Chile","Bolivia","Peru","Colombia","Ecuador","Venezuela"].includes(e)?{title:`${u("docMercosurTitle")} (${e})`,lines:[u("docMercosurLine1"),u("docMercosurLine2"),u("docMercosurLine3")]}:{title:`${u("docInternationalTitle")} (${e})`,lines:[u("docInternationalLine1"),u("docInternationalLine2"),u("docInternationalLine3")]}:{title:u("docInternationalTitle"),lines:[u("docInternationalLine1"),u("docInternationalLine2"),u("docInternationalLine3")]}},[S.destination,u]);(0,o.useEffect)(()=>{N(!0)},[]),(0,o.useEffect)(()=>{let t=!1,a=()=>{try{let e=sessionStorage.getItem("calentrip:tripSearch"),t=e?null:localStorage.getItem("calentrip:tripSearch"),a=e||t;if(a)return c(JSON.parse(a)),!0}catch{}return!1};if(e)w(!1);else{if(a())return void w(!1);let e=0,i=setInterval(()=>{t?clearInterval(i):(e++,(a()||e>=8)&&(clearInterval(i),w(!1)))},100);return()=>{t=!0;try{clearInterval(i)}catch{}}}},[e,c]);let O=(0,o.useMemo)(()=>{var t,a,i,n,r;let o,s,l,c,d,u,m,p;if(!e||"same"!==e.mode)return null;let h=(t=e.origin,a=e.destination,i=e.departDate,n=e.returnDate,r=e.passengers,o=i??"",s=n??"",l=Math.max(1,"number"==typeof r?r:Number(r.adults??1)),c="number"==typeof r?0:Number(r.children??0),d="number"==typeof r?0:Number(r.infants??0),m=(u="undefined"!=typeof navigator?navigator.language:"").includes("-")?u.split("-")[1]:"",p=encodeURIComponent(`${t} to ${a}`),[{name:"Google",href:`https://${"BR"===m?"www.google.com.br":"www.google.com"}/travel/flights?q=${p}&d=${o}&r=${s}&cabin=ECONOMY&time=any&adults=${l}`},{name:"Kayak",href:`https://www.kayak.com/flights/${t}-${a}/${o}/${a}-${t}/${s}?adults=${l}&children=${c}&infants=${d}`},{name:"Booking",href:`https://www.booking.com/flights/${t}-${a}/${o}?return=${s}&adults=${l}`},{name:"Skyscanner",href:`https://www.skyscanner.com.br/transporte/voos/${t}/${a}/${o.replace(/-/g,"")}/${s.replace(/-/g,"")}/?adults=${l}&children=${c}&infants=${d}`}]);return{pax:g(e.passengers),links:h}},[e]);return(0,o.useEffect)(()=>{if(b&&!v&&!L&&e){if("same"===e.mode){let e=m(u("bookIntroSame"),{variant:"info",sticky:!0,key:"book-intro"});setTimeout(()=>{try{f(e)}catch{}},2e4)}else{let e=m(u("bookIntroDifferent"),{variant:"info",sticky:!0,key:"book-intro"});setTimeout(()=>{try{f(e)}catch{}},2e4)}R(!0)}},[b,v,e,L,m,f,u]),(0,o.useEffect)(()=>{(async()=>{if(e)try{let t="same"===e.mode?e.origin:e.outbound.origin,a="same"===e.mode?e.destination:e.outbound.destination,i=await (0,n.getCountryByIata)(t),r=await (0,n.getCountryByIata)(a),o=null,s=null;"different"===e.mode&&(o=await (0,n.getCountryByIata)(e.inbound.origin),s=await (0,n.getCountryByIata)(e.inbound.destination));let l="undefined"!=typeof navigator?navigator.language:"",c=l.includes("-")?l.split("-")[1]:"";j({origin:i??void 0,destination:r??void 0,originIn:o??void 0,destinationIn:s??void 0,userRegion:c})}catch{}})()},[e]),(0,t.jsxs)("div",{className:"min-h-screen px-4 py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"container-page",children:[(0,t.jsx)("h1",{className:"mb-1 text-2xl font-semibold text-[var(--brand)]",children:u("bookFlightsTitle")}),(0,t.jsx)("p",{className:"mb-4 text-sm text-zinc-600",children:u("bookFlightsSubtitle")})]}),(0,t.jsx)("div",{className:"container-page",children:(0,t.jsxs)(s.Card,{className:"aggregators"===T?"ring-4 ring-amber-500 pulse-ring":void 0,children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(s.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-base",children:"travel_explore"}),(0,t.jsx)("span",{children:u("bookLinksAggregators")})]}),(0,t.jsx)("button",{type:"button","aria-label":u("travelDocsNoteAria"),className:"ml-1 inline-flex h-5 w-5 items-center justify-center rounded-full border border-zinc-300 text-[11px] font-semibold text-zinc-700 hover:bg-zinc-100 dark:border-zinc-700 dark:text-zinc-200",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onFocus:()=>k(!0),onBlur:()=>k(!1),onTouchStart:()=>k(!0),onTouchEnd:()=>k(!1),onClick:()=>{m(`${z.title} • ${z.lines.join(" • ")}`)},children:(0,t.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"info"})}),(0,t.jsx)("button",{type:"button","aria-label":u("arrivalTipAria"),className:"ml-1 inline-flex h-5 w-5 items-center justify-center rounded-full border border-zinc-300 text-[11px] font-semibold text-zinc-700 hover:bg-zinc-100 dark:border-zinc-700 dark:text-zinc-200",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),onFocus:()=>I(!0),onBlur:()=>I(!1),onTouchStart:()=>I(!0),onTouchEnd:()=>I(!1),onClick:()=>{m(`${u("arrivalTipTitle")}: ${u("arrivalTipLine")} • ${u("arrivalTipLine2")}`)},children:(0,t.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"info"})})]}),C&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"absolute left-0 top-2 mt-2 w-[28rem] max-w-[90vw] rounded-md border border-zinc-200 bg-white p-3 text-sm shadow-lg dark:border-zinc-800 dark:bg-black",children:[(0,t.jsx)("div",{className:"font-medium",children:z.title}),z.lines.map((e,a)=>(0,t.jsx)("div",{className:"mt-1 text-zinc-700 dark:text-zinc-200",children:e},a)),(0,t.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:u("docDisclaimer")})]})}),A&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"absolute left-0 top-2 mt-2 w-[28rem] max-w-[90vw] rounded-md border border-zinc-200 bg-white p-3 text-sm shadow-lg dark:border-zinc-800 dark:bg-black",children:[(0,t.jsx)("div",{className:"font-medium",children:u("arrivalTipTitle")}),(0,t.jsx)("div",{className:"mt-1 text-zinc-700 dark:text-zinc-200",children:u("arrivalTipLine")}),(0,t.jsx)("div",{className:"mt-1 text-zinc-700 dark:text-zinc-200",children:u("arrivalTipLine2")})]})})]}),(0,t.jsx)(s.CardContent,{children:e&&"same"===e.mode&&O?(0,t.jsx)("ul",{className:"space-y-1",children:O.links.map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.default,{className:"underline text-[13px]",href:e.href,target:"_blank",rel:"noopener noreferrer",onClick:()=>{m(u("openingLink")),"aggregators"===T&&E("notes")},children:e.name}),"Google"===e.name?(0,t.jsx)("button",{type:"button",className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-zinc-200 text-zinc-800 dark:bg-zinc-800 dark:text-zinc-200",title:u("googleFlightsDateNoteShort"),"aria-label":u("googleFlightsDateNoteShort"),onClick:()=>m(u("googleFlightsDateNote"),{variant:"info"}),onTouchStart:()=>m(u("googleFlightsDateNote"),{variant:"info"}),children:(0,t.jsx)("span",{className:"material-symbols-outlined text-[12px]",children:"info"})}):null]},e.name))}):e&&"different"===e.mode?(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1 border border-[#febb02] bg-[#febb02]/10 text-[#febb02]",children:[(0,t.jsx)("span",{className:"text-xs font-semibold",children:u("outboundFlight")}),(0,t.jsxs)("span",{className:"text-sm font-semibold",children:[e.outbound.origin,"/",e.outbound.destination]}),(0,t.jsxs)("span",{className:"text-xs font-medium",children:["• ",e.outbound.date??""]})]}),(0,t.jsx)("div",{className:"mt-1 text-[11px] text-zinc-600 dark:text-zinc-400",children:u("linksPreFilledOneWay")})]}),(0,t.jsx)("ul",{className:"space-y-1",children:y(e.outbound.origin,e.outbound.destination,e.outbound.date,e.passengers).map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.default,{className:"underline text-[13px]",href:e.href,target:"_blank",rel:"noopener noreferrer",onClick:()=>{m(u("openingLink")),"aggregators"===T&&E("notes")},children:e.name}),"Google"===e.name?(0,t.jsx)("button",{type:"button",className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-zinc-200 text-zinc-800 dark:bg-zinc-800 dark:text-zinc-200",title:u("googleFlightsDateNoteShort"),"aria-label":u("googleFlightsDateNoteShort"),onClick:()=>m(u("googleFlightsDateNote"),{variant:"info"}),onTouchStart:()=>m(u("googleFlightsDateNote"),{variant:"info"}),children:(0,t.jsx)("span",{className:"material-symbols-outlined text-[12px]",children:"info"})}):null]},`out-${e.name}`))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1 border border-[#febb02] bg-[#febb02]/10 text-[#febb02]",children:[(0,t.jsx)("span",{className:"text-xs font-semibold",children:u("inboundFlight")}),(0,t.jsxs)("span",{className:"text-sm font-semibold",children:[e.inbound.origin,"/",e.inbound.destination]}),(0,t.jsxs)("span",{className:"text-xs font-medium",children:["• ",e.inbound.date??""]})]}),(0,t.jsx)("div",{className:"mt-1 text-[11px] text-zinc-600 dark:text-zinc-400",children:u("linksPreFilledOneWay")})]}),(0,t.jsx)("ul",{className:"space-y-1",children:y(e.inbound.origin,e.inbound.destination,e.inbound.date,e.passengers).map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.default,{className:"underline text-[13px]",href:e.href,target:"_blank",rel:"noopener noreferrer",onClick:()=>{m(u("openingLink")),"aggregators"===T&&E("notes")},children:e.name}),"Google"===e.name?(0,t.jsx)("button",{type:"button",className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-zinc-200 text-zinc-800 dark:bg-zinc-800 dark:text-zinc-200",title:u("googleFlightsDateNoteShort"),"aria-label":u("googleFlightsDateNoteShort"),onClick:()=>m(u("googleFlightsDateNote"),{variant:"info"}),onTouchStart:()=>m(u("googleFlightsDateNote"),{variant:"info"}),children:(0,t.jsx)("span",{className:"material-symbols-outlined text-[12px]",children:"info"})}):null]},`in-${e.name}`))})]})]}):(0,t.jsx)("div",{className:"text-sm text-zinc-600",children:u("bookLinksDifferentMode")})})]})}),(0,t.jsx)("div",{className:"container-page",children:(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:u("flightNotesTitle")})}),(0,t.jsx)(s.CardContent,{children:b?e?(0,t.jsx)(x,{onProceed:()=>E(null)}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm text-zinc-600",children:u("noTrips")}),(0,t.jsx)(l.Button,{type:"button",onClick:()=>d.push("/flights/search"),children:u("searchFlights")})]}):(0,t.jsx)("div",{className:"text-sm text-zinc-600",children:u("loadingSearch")})})]})})]})}function x({onProceed:e}){let{tripSearch:a,setTripSearch:n}=(0,i.useTrip)(),{t:s}=(0,p.useI18n)(),y=(0,r.useRouter)(),{show:f,dismiss:x}=(0,h.useToast)(),[b,N]=(0,o.useState)(!1),[v,w]=(0,o.useState)(0),[T,E]=(0,o.useState)(!1),[S,j]=(0,o.useState)(!1),[C,k]=(0,o.useState)(null),A=(0,o.useRef)(!1),[I,L]=(0,o.useState)(!1),R=()=>N(!0);function z(e){let t=e.replace(/\D/g,"").slice(0,4);return t?t.length<=2?t:`${t.slice(0,2)}:${t.slice(2)}`:""}let O=(0,o.useMemo)(()=>a?"same"===a.mode?[{title:s("outboundFlight"),origin:a.origin,destination:a.destination,date:a.departDate},{title:s("inboundFlight"),origin:a.destination,destination:a.origin,date:a.returnDate}]:[{title:s("outboundFlight"),origin:a.outbound.origin,destination:a.outbound.destination,date:a.outbound.date},{title:s("inboundFlight"),origin:a.inbound.origin,destination:a.inbound.destination,date:a.inbound.date}]:[],[a,s]),F=(0,o.useMemo)(()=>a?"same"===a.mode?[{dep:a.departTime??"",arr:"",code:a.departFlightNumber??""},{dep:a.returnTime??"",arr:"",code:a.returnFlightNumber??""}]:[{dep:a.outbound.time??"",arr:"",code:a.outbound.flightNumber??""},{dep:a.inbound.time??"",arr:"",code:a.inbound.flightNumber??""}]:[{dep:"",arr:"",code:""},{dep:"",arr:"",code:""}],[a]),[D,$]=(0,o.useState)(F),[M,B]=(0,o.useState)([[],[]]),[P,U]=(0,o.useState)([!1,!1]),[_,G]=(0,o.useState)([!1,!1]),[H,J]=(0,o.useState)(()=>{try{let e=window.matchMedia("(max-width: 480px)").matches;return{maxH:e?160:240,transition:e?"opacity 200ms ease-out, max-height 200ms ease-out":"opacity 250ms ease-out, max-height 250ms ease-out"}}catch{return{maxH:240,transition:"opacity 250ms ease-out, max-height 250ms ease-out"}}});function Y(e){let t=(e||"").trim().split(":");return 60*Number(t[0]||0)+Number(t[1]||0)}(0,o.useEffect)(()=>{try{let e=window.matchMedia("(max-width: 480px)"),t=e=>{J({maxH:e.matches?160:240,transition:e.matches?"opacity 200ms ease-out, max-height 200ms ease-out":"opacity 250ms ease-out, max-height 250ms ease-out"})};return e.addEventListener("change",t),()=>{try{e.removeEventListener("change",t)}catch{}}}catch{}},[]);let X=!!D[0]?.dep;function W(){A.current||I||(A.current=!0,L(!0),q(),setTimeout(()=>{A.current=!1,L(!1)},2e3))}async function q(){if(!a)return;let t=g(a.passengers),i=O[0],n=String(Date.now()),r=`${i.origin} → ${i.destination}`,o=i.date,l=O.map((e,t)=>({leg:0===t?"outbound":"inbound",origin:e.origin,destination:e.destination,date:e.date,departureTime:D[t]?.dep||void 0,arrivalTime:D[t]?.arr||void 0,flightNumber:D[t]?.code||void 0,arrivalNextDay:P[t]||void 0})),c=O.flatMap((e,t)=>(M[t]||[]).map(e=>({leg:0===t?"outbound":"inbound",name:e.name,type:e.type,size:e.size,id:e.id,dataUrl:e.dataUrl})));try{await (0,u.addTrip)({id:n,title:r,date:o,passengers:t,flightNotes:l})}catch{}try{(0,u.saveTripAttachments)(n,c.map(e=>({leg:e.leg,name:e.name,type:e.type,size:e.size,id:e.id||""}))).catch(()=>{})}catch{}try{await (0,u.updateTrip)(n,{reachedFinalCalendar:!0})}catch{}try{let e="same"===a.mode,t=e?a.destination:a.inbound?.destination||a.outbound?.destination||"",i=e?a.departDate||"":a.outbound?.date||"",n=e?a.returnDate||"":a.inbound?.date||"",r=+!!P[0],o=r?((e,t)=>{let a=new Date(`${(e||"").replace(/\//g,"-")}T00:00:00`);if(Number.isNaN(a.getTime()))return e||"";a.setDate(a.getDate()+t);let i=e=>String(e).padStart(2,"0");return`${a.getFullYear()}-${i(a.getMonth()+1)}-${i(a.getDate())}`})(i,r):i;localStorage.setItem("calentrip_trip_summary",JSON.stringify({cities:[{name:t||"",checkin:o,checkout:n||"",address:""}]}))}catch{}if(null!=C)try{x(C)}catch{}f(s("notesSavedRedirecting"),{variant:"success"});try{e?.()}catch{}try{y.push("/accommodation/search")}catch{}try{setTimeout(()=>{try{(window.location.pathname||"").includes("/accommodation/search")||(window.location.href="/accommodation/search")}catch{}},600)}catch{}}return(0,o.useEffect)(()=>{try{if(!a)return;if("same"===a.mode){let e={...a,departTime:D[0]?.dep||"",returnTime:D[1]?.dep||"",departFlightNumber:D[0]?.code||"",returnFlightNumber:D[1]?.code||""};n(e)}else{let e={...a,outbound:{...a.outbound||{},time:D[0]?.dep||"",flightNumber:D[0]?.code||""},inbound:{...a.inbound||{},time:D[1]?.dep||"",flightNumber:D[1]?.code||""}};n(e)}}catch{}},[D,a,n]),(0,t.jsxs)("div",{className:"space-y-4",children:[O.map((e,a)=>{let i,n;return(0,t.jsxs)("div",{className:(v===a?"ring-4 ring-amber-500 pulse-ring ":"")+"rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"mb-2 text-sm font-semibold",children:[e.title," • ",e.origin," → ",e.destination," • ",e.date]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:s("departureTime")}),(0,t.jsx)(c.Input,{placeholder:"",value:D[a]?.dep??"",type:"tel",inputMode:"numeric",pattern:"[0-9]*",onChange:e=>{let t=z(e.target.value);$(e=>e.map((e,i)=>i===a?{...e,dep:t}:e))},onFocus:()=>{w(a),E(1===a),S||(k(f(s("enterFlightTimesHint"),{duration:15e3})),j(!0))}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm",children:s("arrivalTime")}),(0,t.jsx)(c.Input,{placeholder:"",value:D[a]?.arr??"",type:"tel",inputMode:"numeric",pattern:"[0-9]*",onChange:e=>{let t=z(e.target.value);$(e=>e.map((e,i)=>i===a?{...e,arr:t}:e));try{let e=D[a]?.dep||"",i=t||"",n=_[a];e&&i&&5===i.length&&Y(i)<Y(e)&&!P[a]&&!n&&(f(s("arrivalNextDayAsk")),G(e=>0===a?[!0,e[1]]:[e[0],!0]))}catch{}},onFocus:()=>{w(a),E(1===a),S||(k(f(s("enterFlightTimesHint"),{duration:15e3})),j(!0))}}),(i=D[a]?.dep||"",n=D[a]?.arr||"",!!i&&!!n&&Y(n)<Y(i)&&!P[a]&&(0,t.jsx)("div",{className:"mt-1 text-xs text-red-600",children:s("arrivalNextDayWarn")}))]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,t.jsx)("label",{className:"block text-sm",children:s("flightNumberOptional")}),(0,t.jsx)("button",{type:"button",className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-zinc-200 text-zinc-800 dark:bg-zinc-800 dark:text-zinc-200",title:s("locatorInfoTitle"),"aria-label":s("locatorInfoTitle"),onClick:R,onTouchStart:R,children:(0,t.jsx)("span",{className:"material-symbols-outlined text-[12px]",children:"info"})})]}),(0,t.jsx)(c.Input,{placeholder:"",value:D[a]?.code??"",inputMode:"text",type:"text",onChange:e=>{let t=e.target.value;$(e=>e.map((e,i)=>i===a?{...e,code:t}:e))},onFocus:()=>{w(a),E(1===a),S||(k(f(s("enterFlightTimesHint"),{duration:15e3})),j(!0))}})]})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)("input",{id:`nextday-${a}`,type:"checkbox",checked:P[a],onChange:e=>{let t=e.target.checked;U(e=>0===a?[t,e[1]]:[e[0],t]);try{0===a&&localStorage.setItem("calentrip:arrivalNextDay_outbound",String(t)),1===a&&localStorage.setItem("calentrip:arrivalNextDay_inbound",String(t))}catch{}},onFocus:()=>{w(a),E(1===a),S||(k(f(s("enterFlightTimesHint"),{duration:15e3})),j(!0))}}),(0,t.jsx)("label",{htmlFor:`nextday-${a}`,className:"text-sm",children:s("arrivalNextDayLabel")})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-start gap-2 rounded-md border border-amber-500 bg-amber-50 p-2 text-xs text-amber-900",style:{maxHeight:P[a]?H.maxH:0,opacity:+!!P[a],transition:H.transition,overflow:"hidden"},"aria-hidden":!P[a],children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-amber-700",children:"warning"}),(0,t.jsx)("span",{children:s("arrivalNextDayHelp")})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("input",{id:`file-${a}`,type:"file",accept:"image/*,application/pdf",capture:"environment",multiple:!0,className:"hidden",onChange:e=>{Promise.all(Array.from(e.target.files??[]).map(async e=>{let t=await (0,m.saveFromFile)(e);return{name:t.name,type:t.type,size:t.size,id:t.id}})).then(e=>{B(t=>t.map((t,i)=>i===a?e:t))})},onFocus:()=>{w(a),E(1===a),S||(k(f(s("enterFlightTimesHint"),{duration:15e3})),j(!0))}}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.Button,{type:"button",className:"px-2 py-1 text-xs rounded-md gap-1",onClick:()=>document.getElementById(`file-${a}`)?.click(),children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"attach_file"}),(0,t.jsx)("span",{children:s("attachProofButton")})]}),(0,t.jsx)("span",{className:"text-[10px] text-zinc-600",children:s("attachProofHelp")})]}),M[a]?.length?(0,t.jsx)("ul",{className:"mt-2 text-xs text-zinc-700 dark:text-zinc-300",children:M[a].map((e,a)=>(0,t.jsxs)("li",{children:[e.name," • ",Math.round(e.size/1024)," KB"]},`${e.name}-${a}`))}):null]})]},`${e.title}-${a}`)}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(l.Button,{type:"button",role:"button",disabled:!X||I,onClick:W,onTouchStart:W,onTouchEnd:W,onPointerUp:W,className:(T?"ring-4 ring-amber-500 pulse-ring ":"")+"relative z-[1001] pointer-events-auto",style:{touchAction:"manipulation"},children:I?(0,t.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-4 w-4 rounded-full border-2 border-zinc-300 border-t-[var(--brand)] animate-spin","aria-label":s("loading")}),(0,t.jsx)("span",{children:s("proceedToAccommodation")})]}):s("proceedToAccommodation")})}),(0,t.jsxs)(d.Dialog,{open:b,onOpenChange:N,placement:"bottom",children:[(0,t.jsx)(d.DialogHeader,{children:s("locatorInfoTitle")}),(0,t.jsx)("div",{className:"space-y-2 text-sm",children:(0,t.jsx)("p",{children:s("locatorInfoText")})}),(0,t.jsx)(d.DialogFooter,{children:(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>N(!1),children:s("close")})})]})]})}e.s(["default",()=>f])},53119,e=>{e.v(t=>Promise.all(["static/chunks/234e8831830d8296.js"].map(t=>e.l(t))).then(()=>t(51001)))},40402,e=>{e.v(t=>Promise.all(["static/chunks/da5d6c94d3bd3190.js"].map(t=>e.l(t))).then(()=>t(58981)))}]);