"use client";
import { createContext, useContext, useMemo, useState, ReactNode } from "react";

type Lang = "pt" | "en" | "es";

const dict: Record<Lang, Record<string, string>> = {
  pt: {
    appName: "CalenTrip",
    language: "Idioma",
    menu: "Menu",
    yourTrips: "Suas viagens",
    profile: "Perfil",
    savedTrips: "Viagens salvas",
    signInToViewTrips: "Entre para ver suas viagens",
    remove: "Remover",
    signInGoogle: "Entrar com Google",
    signInCredentials: "Entrar com credenciais",
    signInTitle: "Entrar",
    userWord: "Usuário",
    googleWord: "Google",
    demoWord: "Demo",
    close: "Fechar",
    signOut: "Sair",
    viewProfile: "Ver perfil",
    searchFlightsTitle: "Definir datas e destino",
    welcomeSearch: "Encontre a opção ideal para suas datas e preferências.",
    origin: "Aeroporto de Origem",
    destination: "Aeroporto de Destino",
    departDate: "Data de Ida",
    returnDate: "Data de Volta",
    passengers: "Passageiros",
    adults: "Adultos",
    children: "Crianças",
    infants: "Bebês",
    ageNotePassengers: "Idades consideradas: Adultos (12+), Crianças (2–11) e Bebês (0–1). As faixas podem variar conforme a companhia aérea.",
    confirmInfo: "Confirmar Informações",
    outboundFlight: "Voo de Ida",
    inboundFlight: "Voo de Volta",
    date: "Data",
    saveTrip: "Salvar Viagem",
    advanceToStay: "Avançar para Hospedagem",
    proceedToAccommodation: "Prosseguir para escolha da acomodação",
    searchFlights: "Pesquisar Voos",
    linksSuggested: "Links sugeridos",
    departureTime: "Hora da Partida",
    arrivalTime: "Hora de Chegada",
    flightNumberOptional: "Número do voo ou localizador (opcional)",
    flightNotesTitle: "Anotações de Voo",
    attachProofButton: "Anexar comprovante (foto ou arquivo)",
    attachProofHelp: "Use a câmera, documentos ou galeria para anexar a passagem ou o localizador.",
    summarySearch: "Resumo da Busca",
    bookFlightsTitle: "Buscar e comprar voo",
    bookFlightsSubtitle: "Escolha uma plataforma ou companhia aérea para concluir a compra.",
    bookLinksAggregators: "Plataformas de busca",
    bookAirlinesSuggested: "Companhias sugeridas",
    bookLinksDifferentMode: "Para aeroportos diferentes, utilize as plataformas abaixo para pesquisar cada trecho.",
    bookAirlinesNote: "Os links de companhias podem abrir páginas genéricas; o preenchimento automático varia conforme a companhia.",
    arrivalTipTitle: "Chegada e check-in",
    arrivalTipLine: "Verifique o horário de chegada; a maior parte dos check-ins ocorre após as 14:00.",
    arrivalTipLine2: "Se chegar muito cedo, pode ser necessário circular com a bagagem ou utilizar guarda-volumes. Considere combinar early check-in ou guarda de bagagem com a acomodação.",
    arrivalNextDayLabel: "Chega no dia seguinte",
    arrivalNextDayHelp: "Nota: este voo chega no dia seguinte à partida. Por padrão, o check-in da hospedagem permanece na data da partida. Avalie, conforme o horário de chegada ao destino, se mantém a acomodação assim ou se prefere ajustar o check-in para o dia seguinte. Lembre-se: o check-in normalmente começa às 14:00; confirme as regras da hospedagem escolhida.",
    arrivalNextDayAsk: "Hora de chegada menor que a de partida. Se o voo chega no dia seguinte, marque o checkbox.",
    arrivalNextDayWarn: "Hora de chegada menor que a de partida. Se o voo chega no dia seguinte, marque o checkbox.",
    tableOrigin: "Origem",
    tableDestination: "Destino",
    tableDate: "Data",
    tablePassengers: "Passageiros",
    noTrips: "Nenhuma viagem salva ainda.",
    editSearchTitle: "Editar busca",
    apply: "Aplicar",
    navExplore: "Explorar",
    navTrips: "Voos",
    navStays: "Estadias",
    navProfile: "Perfil",
    modeLabel: "Modo de busca",
    searchModeSame: "Mesmos aeroportos",
    searchModeDifferent: "Aeroportos diferentes",
    required: "Obrigatório",
    minPassengers: "Mínimo 1 passageiro",
    searchTabSame: "Ida/Volta mesmos aeroportos",
    searchTabDifferent: "Ida/Volta aeroportos diferentes",
    typeCityAirport: "Digite cidade ou aeroporto",
    stayDetailsTitle: "Informar dados da hospedagem",
    stayAddressLabel: "Endereço da hospedagem",
    stayAddressPlaceholder: "Rua, número, bairro, cidade",
    stayAddressNote: "Este endereço será utilizado na agenda para geolocalização e busca de transportes.",
    attachStayHelp: "Use a câmera, documentos ou galeria para anexar a reserva ou comprovante. Um link direto ficará disponível no calendário no dia da viagem.",
    saveStay: "Salvar hospedagem",
    stayRouteTitle: "Chegada até a hospedagem",
    stayRouteDistance: "Distância",
    stayRouteDuration: "Tempo estimado",
    stayRouteMap: "Ver percurso no mapa",
    transportOptionsTitle: "Opções de transporte",
    transportDisclaimer: "Estimativas obtidas de serviços públicos na internet. Podem conter variações ou erros; confirme com os fornecedores antes de viajar.",
    stayRouteFromAirportLabel: "Origem",
    stayRouteToAddressLabel: "Destino",
    calendarList: "Calendário em lista",
    calendarMonth: "Calendário mensal",
    savedCalendarsTitle: "Calendários salvos",
    savedSearchesTitle: "Pesquisas salvas",
    savedFilesTitle: "Arquivos salvos",
    noSavedCalendarsLabel: "Nenhum calendário salvo.",
    noSavedSearchesLabel: "Nenhuma viagem salva.",
    noSavedFilesLabel: "Nenhum arquivo salvo.",
    loadLabel: "Carregar",
    deleteLabel: "Excluir",
    viewLabel: "Ver",
    startNewSearch: "Iniciar nova pesquisa",
    eventsWord: "eventos",
    callUberWord: "Chamar Uber",
    arriveAirportAdvice: "Chegar no aeroporto: 3h antes do voo.",
    callUberAtLabel: "Chamar Uber às",
    notificationScheduledLabel: "Notificação programada",
    editActivityTitle: "Editar atividade",
    timeLabel: "Hora",
    activityDeletedMsg: "Atividade excluída",
    confirmDeleteCalendar: "Deseja excluir o calendário \"{name}\"?",
    confirmAreYouSure: "Tem certeza? Esta ação não pode ser desfeita.",
    arrivalDrawerTitle: "Chegada e deslocamento até hospedagem",
    openRouteOnGoogleMaps: "Abrir rota no Google Maps",
    destinationLabel: "Destino",
    distanceLabel: "Distância",
    walkLabel: "A pé",
    busLabel: "Ônibus",
    trainMetroLabel: "Trem/Metro",
    drivingTaxiLabel: "Uber/Táxi",
    minutesShort: "min",
    estimatedSuffix: "(estimado)",
    googleMapsLabel: "Google Maps",
    uberLabel: "Uber",
    transportReminderLabel: "Lembrete de transporte",
    callUberSummaryLabel: "Chamar Uber",
    rome2rioLabel: "Rome2Rio",
    distanceFromYourLocationLabel: "Distância (a partir da sua localização)",
    enableLocationToComputeLabel: "Ative a localização para calcular a distância.",
    goDrawerTitle: "Como ir até o destino",
    returnDrawerTitle: "Transporte até o aeroporto final da viagem",
    stayDrawerTitle: "Como chegar da hospedagem de checkout até o transporte para a próxima cidade",
    originLabel: "Origem",
    viewDocumentsButton: "Visualizar documentos",
    seeOptionsOnRome2Rio: "Ver opções em Rome2Rio",
    documentsWord: "Documentos",
    fileAvailableOnDevice: "Arquivo disponível no dispositivo.",
    openOnDevice: "Abrir no dispositivo",
    noDocumentsSaved: "Nenhum documento salvo.",
    stayCheckinNextDayNote: "ATENÇÃO: seu voo chega ao destino no dia seguinte. Avalie se deseja manter a hospedagem a partir do dia da saída (com check-in no dia seguinte em qualquer horário permitido) ou ajustar a busca para iniciar a hospedagem no dia seguinte à partida. Essa opção pode economizar uma diária. Lembre-se: o check-in normalmente começa às 14:00; confirme as regras da hospedagem escolhida.",
    googleFlightsDateNoteShort: "Verifique a data",
    googleFlightsDateNote: "No Google Flights, confirme as datas de ida e volta. Em alguns casos elas não são preenchidas automaticamente pelo link.",
    citiesConfigured: "Cidades configuradas",
    lastCitySelectedGoToPurchase: "Última cidade selecionada, direcionando para compra de hospedagem",
    provideStayAddressError: "Informe o endereço da hospedagem antes de concluir",
    chooseTransportFirstSecondCity: "Agora escolha transporte entre a cidade 1 e a cidade 2",
    transportSavedGoSummary: "Transporte salvo. Veja o resumo e conclua a hospedagem.",
    backAndInformStaysMessage: "Volte e informe hospedagens para continuar.",
    activitiesRestaurantsSummaryTitle: "Resumo de atividades e restaurantes",
    backToAccommodationButton: "Voltar para hospedagens",
    activityWord: "Atividade",
    restaurantWord: "Restaurante",
    goHowButton: "Como ir",
    defineCityError: "Defina a cidade",
    selectAccommodation: "Escolha a acomodação",
    searchAccommodationButton: "Buscar acomodação",
    searchCityTitle: "Buscar cidade",
    typeCity: "Digite a cidade",
    useTypedCityButton: "Usar cidade digitada",
    cityDefinedManually: "Cidade definida manualmente",
    accommodationDialogTitle: "Hospedagem",
    accommodationLinksTitle: "Links de acomodação",
    stayDocsTitle: "Documentos da hospedagem",
    useCamera: "Usar câmera",
    buyAccommodation: "Comprar hospedagem",
    transport: "Transporte",
    check: "Check",
    transportBetween: "Transporte entre",
    and: "e",
    transportModeLabel: "Modal",
    modeAir: "Avião",
    modeTrain: "Trem",
    modeBus: "Ônibus",
    modeCar: "Carro",
    transportOriginLabel: "Origem (aeroporto/estação)",
    transportDestinationLabel: "Destino (aeroporto/estação)",
    transportOriginPlaceholder: "Digite a origem",
    transportDestinationPlaceholder: "Digite o destino",
    airport: "Aeroporto",
    trainStation: "Estação de trem",
    busStation: "Estação de ônibus",
    proceedToEntertainment: "Seguir para agendar entretenimento e restaurantes",
    stayCityInputLabel: "Cidade para a hospedagem",
    stayCityInputPlaceholder: "Digite a cidade",
    cityLabel: "Cidade",
    checkinLabel: "Check-in",
    checkoutLabel: "Check-out",
    cityCountLabel: "Quantidade de cidades",
    cityNameLabel: "Nome da cidade",
    searchButtonLabel: "Buscar",
    loading: "Carregando…",
    noSuggestionsFound: "Nenhuma sugestão encontrada",
    cityGeneric: "Cidade",
    stayAddressInfo: "Informe o endereço completo da hospedagem. Este endereço ficará no calendário e, no dia da atividade, enviaremos uma notificação com distância, tempo de deslocamento, opções de transporte e links para aplicativos de carro já com o destino preenchido.",
    privacyTitle: "Política de Privacidade",
    privacyIntro: "Coletamos dados mínimos para funcionamento e melhoria do serviço.",
    privacyDataCategories: "Categorias de dados:",
    privacyDataLocation: "Localização (primeiro plano) para estimar rotas e opções de transporte.",
    privacyDataPurchases: "Dados de compras via Google Play (tokens/IDs) para validar acesso premium.",
    privacyDataPrefs: "Preferências salvas no dispositivo (viagens, calendário, idioma).",
    privacyDataAttachments: "Anexos enviados pelo usuário (imagens/PDFs de reservas).",
    privacySharing: "Não compartilhamos dados pessoais com terceiros além de provedores estritamente necessários (Google Play, Google Maps, OSRM, Rome2Rio, Uber) e apenas para funcionalidades específicas.",
    privacyRetention: "Retenção: dados locais permanecem no dispositivo. Registros de compra podem ser mantidos conforme exigências fiscais e para restauração de acesso.",
    privacyUserRights: "Direitos: acesso, correção e exclusão de dados. Solicite via página de Suporte.",
    privacyContact: "Contato: calentrip.support@proton.me",
    termsTitle: "Termos de Uso",
    termsIntro: "O aplicativo auxilia no planejamento de viagens e organização de eventos.",
    termsResponsibilities: "Informações de terceiros podem variar; confirme com fornecedores antes de comprar ou viajar.",
    termsSubscriptionPayment: "Planos pagos liberam recursos premium durante a vigência. Compras no Android são processadas pelo Google Play e seguem suas políticas, sem renovação automática (renovação manual).",
    termsDataPrivacyLink: "Ao usar o app, você concorda com o uso de dados descrito na Política de Privacidade.",
    termsSupportContact: "Para suporte e solicitações, utilize a página de Suporte.",
    loginUnlockTitle: "Faça login para desbloquear",
    loginUnlockText: "Entre para continuar e desbloquear recursos premium. Você pode usar Google ou conta demo.",
    subscriptionNeededTitle: "Assinatura necessária",
    subMonthlyText: "Assinatura mensal (R$ 15): durante 30 dias você pode criar e salvar quantas viagens quiser e editar atividades. Após expirar, você continua com acesso integral às viagens já salvas pelo botão \"Pesquisas salvas\" (lista e calendário, botões, links e documentos). Para criar novas viagens ou salvar alterações, renove a assinatura. Cobrança não recorrente; a renovação é manual via Google Play.",
    subscribeMonthlyButton: "Assinar agora (R$ 15/mês)",
    signInWithGoogle: "Entrar com Google",
    signInDemo: "Entrar Demo",
    profileTitle: "Perfil",
    profileSubtitleMonthly: "Gerencie sua conta e assinatura mensal.",
    subscriptionMonthlyTitle: "Assinatura mensal",
    currentTripLabel: "Viagem atual",
    statusLabel: "Status",
    activeStatus: "Ativa",
    inactiveStatus: "Inativa",
    subscriptionNoTripHint: "Assinatura mensal válida por 30 dias. Salve sua busca de voos para vincular a viagem atual.",
    planFreeBullet: "• Grátis: busca de voos, definição de destino, hospedagem e planejamento básico.",
    planPaidBullet: "• Pago (mensal): edição de atividades/restaurantes, salvar calendário, exportações avançadas e recursos premium.",
    validityBullet: "• Validade: 30 dias após a compra; após expirar, você continua consultando calendários salvos.",
    billingBullet: "• Compras: processadas pelo Google Play, sem renovação automática. Reembolsos seguem as regras do Google Play.",
    legalBullet: "• Privacidade e termos: consulte as páginas de Política de Privacidade e Termos de Uso.",
    deleteDataTitle: "Exclusão de conta e dados",
    deleteDataDesc: "Você pode solicitar a exclusão dos seus dados e entitlements vinculados à conta.",
    deleteDataButton: "Excluir conta e dados",
    purchaseSuccess: "Assinatura ativada",
    purchaseFail: "Falha na compra",
    purchaseError: "Erro na compra",
    deleteSuccess: "Solicitação registrada. Dados removidos.",
    deleteFail: "Não foi possível processar a solicitação.",
    deleteError: "Erro na solicitação.",
    planWord: "Plano",
    premiumWord: "Premium",
    freeWord: "Grátis",
    untilWord: "até",
    activatePremiumButton: "Ativar Premium",
    saveCalendarButton: "Salvar calendário",
    saveLabel: "Salvar",
    saveToGoogleCalendarButton: "Salvar no Google Calendar",
  },
  en: {
    appName: "CalenTrip",
    language: "Language",
    menu: "Menu",
    yourTrips: "Your trips",
    profile: "Profile",
    savedTrips: "Saved trips",
    signInToViewTrips: "Sign in to view your trips",
    remove: "Remove",
    signInGoogle: "Sign in with Google",
    signInCredentials: "Sign in with credentials",
    signInTitle: "Sign in",
    userWord: "User",
    googleWord: "Google",
    demoWord: "Demo",
    close: "Close",
    signOut: "Sign out",
    viewProfile: "View profile",
    searchFlightsTitle: "Search flights and set destination",
    welcomeSearch: "Find the best option for your dates and preferences.",
    origin: "Origin airport",
    destination: "Destination airport",
    departDate: "Departure date",
    returnDate: "Return date",
    passengers: "Passengers",
    adults: "Adults",
    children: "Children",
    infants: "Infants",
    ageNotePassengers: "Age ranges: Adults (12+), Children (2–11) and Infants (0–1). Ranges may vary by airline.",
    confirmInfo: "Confirm information",
    outboundFlight: "Outbound flight",
    inboundFlight: "Return flight",
    date: "Date",
    saveTrip: "Save Trip",
    advanceToStay: "Continue to Accommodation",
    proceedToAccommodation: "Proceed to accommodation selection",
    searchFlights: "Search Flights",
    linksSuggested: "Suggested links",
    departureTime: "Departure time",
    arrivalTime: "Arrival time",
    flightNumberOptional: "Flight number or locator (optional)",
    flightNotesTitle: "Flight Notes",
    attachProofButton: "Attach proof (photo or file)",
    attachProofHelp: "Use camera, documents or gallery to attach the ticket or locator.",
    summarySearch: "Search Summary",
    bookFlightsTitle: "Search and buy flight",
    bookFlightsSubtitle: "Choose a platform or airline to complete your purchase.",
    bookLinksAggregators: "Search platforms",
    bookAirlinesSuggested: "Suggested airlines",
    bookLinksDifferentMode: "For different airports, use platforms below to search each leg.",
    bookAirlinesNote: "Airline links may open generic pages; auto-fill varies by airline.",
    arrivalTipTitle: "Arrival and check-in",
    arrivalTipLine: "Check your arrival time; most accommodations offer check-in from 2:00 PM.",
    arrivalTipLine2: "Arriving early may require carrying luggage or using storage. Consider arranging early check-in or luggage drop with your accommodation.",
    arrivalNextDayLabel: "Arrives the next day",
    arrivalNextDayHelp: "Note: this flight arrives the day after departure. By default, accommodation check-in remains on the departure date. Based on your arrival time, decide whether to keep it or adjust check-in to the next day. Reminder: check-in typically starts at 2:00 PM; confirm the property’s rules.",
    arrivalNextDayAsk: "Arrival time is earlier than departure. If the flight arrives the next day, check the box.",
    arrivalNextDayWarn: "Arrival time is earlier than departure. If the flight arrives the next day, check the box.",
    tableOrigin: "Origin",
    tableDestination: "Destination",
    tableDate: "Date",
    tablePassengers: "Passengers",
    noTrips: "No trips saved yet.",
    editSearchTitle: "Edit search",
    apply: "Apply",
    navExplore: "Explore",
    navTrips: "Flights",
    navStays: "Stays",
    navProfile: "Profile",
    modeLabel: "Search mode",
    searchModeSame: "Same airports",
    searchModeDifferent: "Different airports",
    required: "Required",
    minPassengers: "Minimum 1 passenger",
    searchTabSame: "Round trip same airports",
    searchTabDifferent: "Round trip different airports",
    typeCityAirport: "Type city or airport",
    stayDetailsTitle: "Provide accommodation details",
    stayAddressLabel: "Accommodation address",
    stayAddressPlaceholder: "Street, number, district, city",
    stayAddressNote: "This address will be used in the agenda for geolocation and transport search.",
    attachStayHelp: "Use camera, documents or gallery to attach the booking or receipt. A direct link will be available in the calendar on the travel day.",
    saveStay: "Save accommodation",
    stayRouteTitle: "Route to accommodation",
    stayRouteDistance: "Distance",
    stayRouteDuration: "Estimated time",
    stayRouteMap: "View route on map",
    transportOptionsTitle: "Transport options",
    transportDisclaimer: "Estimates are sourced from public internet services and may vary or be inaccurate. Confirm with providers before traveling.",
    stayRouteFromAirportLabel: "Origin",
    stayRouteToAddressLabel: "Destination",
    calendarList: "List calendar",
    calendarMonth: "Monthly calendar",
    savedCalendarsTitle: "Saved calendars",
    savedSearchesTitle: "Saved searches",
    savedFilesTitle: "Saved files",
    noSavedCalendarsLabel: "No saved calendars.",
    noSavedSearchesLabel: "No saved trips.",
    noSavedFilesLabel: "No saved files.",
    loadLabel: "Load",
    deleteLabel: "Delete",
    viewLabel: "View",
    startNewSearch: "Start new search",
    eventsWord: "events",
    callUberWord: "Call Uber",
    arriveAirportAdvice: "Arrive at the airport: 3 hours before the flight.",
    callUberAtLabel: "Call Uber at",
    notificationScheduledLabel: "Notification scheduled",
    editActivityTitle: "Edit activity",
    timeLabel: "Time",
    activityDeletedMsg: "Activity deleted",
    confirmDeleteCalendar: "Delete calendar \"{name}\"?",
    confirmAreYouSure: "Are you sure? This action cannot be undone.",
    arrivalDrawerTitle: "Arrival and transfer to accommodation",
    openRouteOnGoogleMaps: "Open route on Google Maps",
    destinationLabel: "Destination",
    distanceLabel: "Distance",
    walkLabel: "Walking",
    busLabel: "Bus",
    trainMetroLabel: "Train/Metro",
    drivingTaxiLabel: "Uber/Taxi",
    minutesShort: "min",
    estimatedSuffix: "(estimated)",
    googleMapsLabel: "Google Maps",
    uberLabel: "Uber",
    transportReminderLabel: "Transport reminder",
    callUberSummaryLabel: "Call Uber",
    rome2rioLabel: "Rome2Rio",
    distanceFromYourLocationLabel: "Distance (from your location)",
    enableLocationToComputeLabel: "Enable location to compute distance.",
    goDrawerTitle: "How to go to destination",
    returnDrawerTitle: "Transport to the final trip airport",
    stayDrawerTitle: "How to go from checkout stay to next city transport",
    originLabel: "Origin",
    viewDocumentsButton: "View documents",
    seeOptionsOnRome2Rio: "See options on Rome2Rio",
    documentsWord: "Documents",
    fileAvailableOnDevice: "File available on the device.",
    openOnDevice: "Open on device",
    noDocumentsSaved: "No documents saved.",
    stayCheckinNextDayNote: "As the flight arrives the day after departure, the accommodation check-in is set to the day after the flight’s departure date.",
    googleFlightsDateNoteShort: "Check the date",
    googleFlightsDateNote: "On Google Flights, please confirm the outbound and return dates. In some cases they are not auto-filled by the link.",
    citiesConfigured: "Cities configured",
    lastCitySelectedGoToPurchase: "Last city selected, proceeding to accommodation purchase",
    provideStayAddressError: "Provide the accommodation address before finishing",
    chooseTransportFirstSecondCity: "Now choose transport between city 1 and city 2",
    transportSavedGoSummary: "Transport saved. See the summary and finish accommodation.",
    backAndInformStaysMessage: "Go back and inform stays to continue.",
    activitiesRestaurantsSummaryTitle: "Activities and restaurants summary",
    backToAccommodationButton: "Back to stays",
    activityWord: "Activity",
    restaurantWord: "Restaurant",
    goHowButton: "How to go",
    defineCityError: "Define the city",
    selectAccommodation: "Choose accommodation",
    searchAccommodationButton: "Search accommodation",
    searchCityTitle: "Search city",
    typeCity: "Type the city",
    useTypedCityButton: "Use typed city",
    cityDefinedManually: "City set manually",
    accommodationDialogTitle: "Accommodation",
    accommodationLinksTitle: "Accommodation links",
    stayDocsTitle: "Accommodation documents",
    useCamera: "Use camera",
    buyAccommodation: "Buy accommodation",
    transport: "Transport",
    check: "Check",
    transportBetween: "Transport between",
    and: "and",
    transportModeLabel: "Mode",
    modeAir: "Air",
    modeTrain: "Train",
    modeBus: "Bus",
    modeCar: "Car",
    transportOriginLabel: "Origin (airport/station)",
    transportDestinationLabel: "Destination (airport/station)",
    transportOriginPlaceholder: "Eg.: FCO / Roma Termini",
    transportDestinationPlaceholder: "Eg.: FLR / Firenze SMN",
    airport: "Airport",
    trainStation: "Train station",
    busStation: "Bus station",
    proceedToEntertainment: "Proceed to schedule entertainment and restaurants",
    stayCityInputLabel: "Accommodation city",
    stayCityInputPlaceholder: "Enter the city",
    cityLabel: "City",
    checkinLabel: "Check-in",
    checkoutLabel: "Check-out",
    cityCountLabel: "Number of cities",
    cityNameLabel: "City name",
    searchButtonLabel: "Search",
    loading: "Loading…",
    noSuggestionsFound: "No suggestions found",
    cityGeneric: "City",
    stayAddressInfo: "Enter the full accommodation address. This address will appear in the calendar, and on the activity day we will send a notification with distance, travel time, transport options, and links to car apps already filled with the destination.",
    privacyTitle: "Privacy Policy",
    privacyIntro: "We collect minimal data necessary for functionality and service improvement.",
    privacyDataCategories: "Data categories:",
    privacyDataLocation: "Location (foreground) to estimate routes and transport options.",
    privacyDataPurchases: "Google Play purchase data (tokens/IDs) to validate premium access.",
    privacyDataPrefs: "Device-stored preferences (trips, calendar, language).",
    privacyDataAttachments: "Attachments provided by the user (booking images/PDFs).",
    privacySharing: "We do not share personal data with third parties except strictly necessary providers (Google Play, Google Maps, OSRM, Rome2Rio, Uber) and only for specific features.",
    privacyRetention: "Retention: local data remains on the device. Purchase records may be kept for tax requirements and access restoration.",
    privacyUserRights: "User rights: access, correction, deletion. Request via the Support page.",
    privacyContact: "Contact: calentrip.support@proton.me",
    termsTitle: "Terms of Use",
    termsIntro: "The app helps with travel planning and event organization.",
    termsResponsibilities: "Third-party information may vary; confirm with providers before purchasing or traveling.",
    termsSubscriptionPayment: "Paid plans unlock premium features during the term. Android purchases are processed by Google Play and follow its policies, with no auto-renewal (manual renewal).",
    termsDataPrivacyLink: "By using the app, you agree to the data usage described in the Privacy Policy.",
    termsSupportContact: "For support and requests, use the Support page.",
    loginUnlockTitle: "Sign in to unlock",
    loginUnlockText: "Sign in to continue and unlock premium features. Use Google or demo account.",
    subscriptionNeededTitle: "Subscription required",
    subMonthlyText: "Monthly subscription (R$ 15): for 30 days you can create and save as many trips as you want and edit activities. After it expires, you still have full access to saved trips via the \"Saved searches\" button (list and calendar, buttons, links and documents). To create new trips or save changes, renew the subscription. No auto-renewal; renewal is manual via Google Play.",
    subscribeMonthlyButton: "Subscribe now (R$ 15/month)",
    signInWithGoogle: "Sign in with Google",
    signInDemo: "Sign in Demo",
    profileTitle: "Profile",
    profileSubtitleMonthly: "Manage your account and monthly subscription.",
    subscriptionMonthlyTitle: "Monthly subscription",
    currentTripLabel: "Current trip",
    statusLabel: "Status",
    activeStatus: "Active",
    inactiveStatus: "Inactive",
    subscriptionNoTripHint: "Monthly subscription valid for 30 days. Save your flight search to link the current trip.",
    planFreeBullet: "• Free: flight search, destination setup, stays and basic planning.",
    planPaidBullet: "• Paid (monthly): edit activities/restaurants, save calendar, advanced exports and premium features.",
    validityBullet: "• Validity: 30 days after purchase; after it expires you still access saved calendars.",
    billingBullet: "• Billing: processed by Google Play, with no auto-renewal. Refunds follow Google Play policies.",
    legalBullet: "• Privacy and terms: see Privacy Policy and Terms of Use pages.",
    deleteDataTitle: "Account and data deletion",
    deleteDataDesc: "You can request deletion of your data and entitlements linked to the account.",
    deleteDataButton: "Delete account and data",
    purchaseSuccess: "Subscription activated",
    purchaseFail: "Purchase failed",
    purchaseError: "Purchase error",
    deleteSuccess: "Request recorded. Data removed.",
    deleteFail: "Could not process the request.",
    deleteError: "Request error.",
    planWord: "Plan",
    premiumWord: "Premium",
    freeWord: "Free",
    untilWord: "until",
    activatePremiumButton: "Activate Premium",
    saveCalendarButton: "Save calendar",
    saveLabel: "Save",
    saveToGoogleCalendarButton: "Save to Google Calendar",
  },
  es: {
    appName: "CalenTrip",
    language: "Idioma",
    menu: "Menú",
    yourTrips: "Tus viajes",
    profile: "Perfil",
    savedTrips: "Viajes guardados",
    signInToViewTrips: "Inicia sesión para ver tus viajes",
    remove: "Eliminar",
    signInGoogle: "Entrar con Google",
    signInCredentials: "Entrar con credenciales",
    signInTitle: "Entrar",
    userWord: "Usuario",
    googleWord: "Google",
    demoWord: "Demo",
    close: "Cerrar",
    signOut: "Salir",
    viewProfile: "Ver perfil",
    searchFlightsTitle: "Buscar vuelos y definir destino",
    welcomeSearch: "Encuentra la mejor opción para tus fechas y preferencias.",
    origin: "Aeropuerto de origen",
    destination: "Aeropuerto de destino",
    departDate: "Fecha de ida",
    returnDate: "Fecha de vuelta",
    passengers: "Pasajeros",
    adults: "Adultos",
    children: "Niños",
    infants: "Bebés",
    ageNotePassengers: "Rangos de edad: Adultos (12+), Niños (2–11) y Bebés (0–1). Los rangos pueden variar según la aerolínea.",
    confirmInfo: "Confirmar información",
    outboundFlight: "Vuelo de ida",
    inboundFlight: "Vuelo de vuelta",
    date: "Fecha",
    saveTrip: "Guardar viaje",
    advanceToStay: "Continuar a Alojamiento",
    proceedToAccommodation: "Continuar a la selección de alojamiento",
    searchFlights: "Buscar vuelos",
    linksSuggested: "Enlaces sugeridos",
    departureTime: "Hora de salida",
    arrivalTime: "Hora de llegada",
    flightNumberOptional: "Número de vuelo o localizador (opcional)",
    flightNotesTitle: "Notas de vuelo",
    attachProofButton: "Adjuntar comprobante (foto o archivo)",
    attachProofHelp: "Usa la cámara, documentos o galería para adjuntar el billete o localizador.",
    summarySearch: "Resumen de búsqueda",
    bookFlightsTitle: "Buscar y comprar vuelo",
    bookFlightsSubtitle: "Elige una plataforma o aerolínea para completar la compra.",
    bookLinksAggregators: "Plataformas de búsqueda",
    bookAirlinesSuggested: "Aerolíneas sugeridas",
    bookLinksDifferentMode: "Para aeropuertos diferentes, usa las plataformas para buscar cada tramo.",
    bookAirlinesNote: "Los enlaces de aerolíneas pueden abrir páginas genéricas; el autocompletado varía por aerolínea.",
    arrivalTipTitle: "Llegada y check-in",
    arrivalTipLine: "Verifica la hora de llegada; la mayoría de los check-ins son después de las 14:00.",
    arrivalTipLine2: "Si llegas muy temprano, podrías tener que llevar el equipaje o usar consigna. Considera acordar early check-in o depósito de equipaje con tu alojamiento.",
    arrivalNextDayLabel: "Llega al día siguiente",
    arrivalNextDayHelp: "Nota: este vuelo llega al día siguiente de la salida. Por defecto, el check-in del alojamiento se mantiene en la fecha de salida. Según tu hora de llegada, decide si mantenerlo o ajustar el check-in para el día siguiente. Recuerda: el check-in suele iniciar a las 14:00; confirma las reglas del alojamiento elegido.",
    arrivalNextDayAsk: "La hora de llegada es menor que la de salida. Si el vuelo llega al día siguiente, marca la casilla.",
    arrivalNextDayWarn: "La hora de llegada es menor que la de salida. Si el vuelo llega al día siguiente, marca la casilla.",
    tableOrigin: "Origen",
    tableDestination: "Destino",
    tableDate: "Fecha",
    tablePassengers: "Pasajeros",
    noTrips: "Aún no hay viajes guardados.",
    editSearchTitle: "Editar búsqueda",
    apply: "Aplicar",
    navExplore: "Explorar",
    navTrips: "Vuelos",
    navStays: "Estancias",
    navProfile: "Perfil",
    modeLabel: "Modo de búsqueda",
    searchModeSame: "Mismos aeropuertos",
    searchModeDifferent: "Aeropuertos diferentes",
    required: "Obligatorio",
    minPassengers: "Mínimo 1 pasajero",
    searchTabSame: "Ida y vuelta mismos aeropuertos",
    searchTabDifferent: "Ida y vuelta aeropuertos diferentes",
    typeCityAirport: "Escribe ciudad o aeropuerto",
    stayDetailsTitle: "Informar datos del alojamiento",
    stayAddressLabel: "Dirección del alojamiento",
    stayAddressPlaceholder: "Calle, número, barrio, ciudad",
    stayAddressNote: "Esta dirección se utilizará en la agenda para geolocalización y búsqueda de transportes.",
    stayCheckinNextDayNote: "Como el vuelo llega al día siguiente de la salida, el check-in del alojamiento se configuró para el día posterior a la fecha de salida del vuelo.",
    attachStayHelp: "Usa la cámara, documentos o galería para adjuntar la reserva o comprobante. Habrá un enlace directo en el calendario el día del viaje.",
    saveStay: "Guardar alojamiento",
    stayRouteTitle: "Llegada al alojamiento",
    stayRouteDistance: "Distancia",
    stayRouteDuration: "Tiempo estimado",
    stayRouteMap: "Ver ruta en el mapa",
    transportOptionsTitle: "Opciones de transporte",
    transportDisclaimer: "Estimaciones obtenidas de servicios públicos en internet. Pueden variar o contener errores; confirma con los proveedores antes de viajar.",
    stayRouteFromAirportLabel: "Origen",
    stayRouteToAddressLabel: "Destino",
    calendarList: "Calendario en lista",
    calendarMonth: "Calendario mensual",
    savedCalendarsTitle: "Calendarios guardados",
    savedSearchesTitle: "Búsquedas guardadas",
    savedFilesTitle: "Archivos guardados",
    noSavedCalendarsLabel: "No hay calendarios guardados.",
    noSavedSearchesLabel: "No hay viajes guardados.",
    noSavedFilesLabel: "No hay archivos guardados.",
    loadLabel: "Cargar",
    deleteLabel: "Eliminar",
    viewLabel: "Ver",
    startNewSearch: "Iniciar nueva búsqueda",
    eventsWord: "eventos",
    callUberWord: "Llamar Uber",
    arriveAirportAdvice: "Llegar al aeropuerto: 3 horas antes del vuelo.",
    callUberAtLabel: "Llamar Uber a las",
    notificationScheduledLabel: "Notificación programada",
    editActivityTitle: "Editar actividad",
    timeLabel: "Hora",
    activityDeletedMsg: "Actividad eliminada",
    confirmDeleteCalendar: "¿Eliminar el calendario \"{name}\"?",
    confirmAreYouSure: "¿Estás seguro? Esta acción no se puede deshacer.",
    arrivalDrawerTitle: "Llegada y traslado al alojamiento",
    openRouteOnGoogleMaps: "Abrir ruta en Google Maps",
    destinationLabel: "Destino",
    distanceLabel: "Distancia",
    walkLabel: "A pie",
    busLabel: "Autobús",
    trainMetroLabel: "Tren/Metro",
    drivingTaxiLabel: "Uber/Taxi",
    minutesShort: "min",
    estimatedSuffix: "(estimado)",
    googleMapsLabel: "Google Maps",
    uberLabel: "Uber",
    transportReminderLabel: "Recordatorio de transporte",
    callUberSummaryLabel: "Llamar Uber",
    rome2rioLabel: "Rome2Rio",
    distanceFromYourLocationLabel: "Distancia (desde tu ubicación)",
    enableLocationToComputeLabel: "Activa la ubicación para calcular la distancia.",
    goDrawerTitle: "Cómo ir al destino",
    returnDrawerTitle: "Transporte al aeropuerto final del viaje",
    stayDrawerTitle: "Cómo ir desde el alojamiento de checkout al transporte a la próxima ciudad",
    originLabel: "Origen",
    viewDocumentsButton: "Ver documentos",
    seeOptionsOnRome2Rio: "Ver opciones en Rome2Rio",
    documentsWord: "Documentos",
    fileAvailableOnDevice: "Archivo disponible en el dispositivo.",
    openOnDevice: "Abrir en el dispositivo",
    noDocumentsSaved: "No hay documentos guardados.",
    googleFlightsDateNoteShort: "Verificar fecha",
    googleFlightsDateNote: "En Google Flights, confirma las fechas de ida y vuelta. En algunos casos no se completan automáticamente desde el enlace.",
    citiesConfigured: "Ciudades configuradas",
    lastCitySelectedGoToPurchase: "Última ciudad seleccionada, proceder a la compra del alojamiento",
    provideStayAddressError: "Proporciona la dirección del alojamiento antes de finalizar",
    chooseTransportFirstSecondCity: "Ahora elige transporte entre la ciudad 1 y la ciudad 2",
    transportSavedGoSummary: "Transporte guardado. Consulta el resumen y finaliza el alojamiento.",
    backAndInformStaysMessage: "Vuelve e informa alojamientos para continuar.",
    activitiesRestaurantsSummaryTitle: "Resumen de actividades y restaurantes",
    backToAccommodationButton: "Volver a alojamientos",
    activityWord: "Actividad",
    restaurantWord: "Restaurante",
    goHowButton: "Cómo llegar",
    defineCityError: "Define la ciudad",
    selectAccommodation: "Elige el alojamiento",
    searchAccommodationButton: "Buscar alojamiento",
    searchCityTitle: "Buscar ciudad",
    typeCity: "Escribe la ciudad",
    useTypedCityButton: "Usar ciudad escrita",
    cityDefinedManually: "Ciudad definida manualmente",
    accommodationDialogTitle: "Alojamiento",
    accommodationLinksTitle: "Enlaces de alojamiento",
    stayDocsTitle: "Documentos del alojamiento",
    useCamera: "Usar cámara",
    buyAccommodation: "Comprar alojamiento",
    transport: "Transporte",
    check: "Check",
    transportBetween: "Transporte entre",
    and: "y",
    transportModeLabel: "Modalidad",
    modeAir: "Avión",
    modeTrain: "Tren",
    modeBus: "Autobús",
    modeCar: "Coche",
    transportOriginLabel: "Origen (aeropuerto/estación)",
    transportDestinationLabel: "Destino (aeropuerto/estación)",
    transportOriginPlaceholder: "Ej.: FCO / Roma Termini",
    transportDestinationPlaceholder: "Ej.: FLR / Firenze SMN",
    airport: "Aeropuerto",
    trainStation: "Estación de tren",
    busStation: "Estación de autobús",
    proceedToEntertainment: "Continuar para programar entretenimiento y restaurantes",
    stayCityInputLabel: "Ciudad para el alojamiento",
    stayCityInputPlaceholder: "Escriba la ciudad",
    cityLabel: "Ciudad",
    checkinLabel: "Check-in",
    checkoutLabel: "Check-out",
    cityCountLabel: "Cantidad de ciudades",
    cityNameLabel: "Nombre de la ciudad",
    searchButtonLabel: "Buscar",
    loading: "Cargando…",
    noSuggestionsFound: "No se encontraron sugerencias",
    cityGeneric: "Ciudad",
    stayAddressInfo: "Indica la dirección completa del alojamiento. Esta dirección quedará en el calendario y, en el día de la actividad, enviaremos una notificación con distancia, tiempo de desplazamiento, opciones de transporte y enlaces a apps de coche ya con el destino relleno.",
    privacyTitle: "Política de Privacidad",
    privacyIntro: "Recopilamos datos mínimos necesarios para el funcionamiento y mejora del servicio.",
    privacyDataCategories: "Categorías de datos:",
    privacyDataLocation: "Ubicación (primer plano) para estimar rutas y opciones de transporte.",
    privacyDataPurchases: "Datos de compras de Google Play (tokens/IDs) para validar el acceso premium.",
    privacyDataPrefs: "Preferencias guardadas en el dispositivo (viajes, calendario, idioma).",
    privacyDataAttachments: "Archivos adjuntos proporcionados por el usuario (imágenes/PDF de reservas).",
    privacySharing: "No compartimos datos personales con terceros excepto proveedores estrictamente necesarios (Google Play, Google Maps, OSRM, Rome2Rio, Uber) y solo para funciones específicas.",
    privacyRetention: "Retención: los datos locales permanecen en el dispositivo. Los registros de compra pueden mantenerse por requisitos fiscales y restauración de acceso.",
    privacyUserRights: "Derechos: acceso, corrección y eliminación. Solicita a través de la página de Soporte.",
    privacyContact: "Contacto: calentrip.support@proton.me",
    termsTitle: "Términos de Uso",
    termsIntro: "La aplicación ayuda a planificar viajes y organizar eventos.",
    termsResponsibilities: "La información de terceros puede variar; confirma con los proveedores antes de comprar o viajar.",
    termsSubscriptionPayment: "Los planes de pago desbloquean funciones premium durante la vigencia. Las compras en Android se procesan por Google Play y siguen sus políticas, sin renovación automática (renovación manual).",
    termsDataPrivacyLink: "Al usar la app, aceptas el uso de datos descrito en la Política de Privacidad.",
    termsSupportContact: "Para soporte y solicitudes, utiliza la página de Soporte.",
    loginUnlockTitle: "Inicia sesión para desbloquear",
    loginUnlockText: "Inicia sesión para continuar y desbloquear funciones premium. Usa Google o cuenta demo.",
    subscriptionNeededTitle: "Suscripción necesaria",
    subMonthlyText: "Suscripción mensual (R$ 15): durante 30 días puedes crear y guardar tantos viajes como quieras y editar actividades. Tras expirar, sigues teniendo acceso completo a los viajes guardados mediante el botón \"Búsquedas guardadas\" (lista y calendario, botones, enlaces y documentos). Para crear nuevos viajes o guardar cambios, renueva la suscripción. Sin renovación automática; la renovación es manual a través de Google Play.",
    subscribeMonthlyButton: "Suscríbete ahora (R$ 15/mes)",
    signInWithGoogle: "Iniciar sesión con Google",
    signInDemo: "Iniciar sesión Demo",
    profileTitle: "Perfil",
    profileSubtitleMonthly: "Gestiona tu cuenta y suscripción mensual.",
    subscriptionMonthlyTitle: "Suscripción mensual",
    currentTripLabel: "Viaje actual",
    statusLabel: "Estado",
    activeStatus: "Activa",
    inactiveStatus: "Inactiva",
    subscriptionNoTripHint: "Suscripción mensual válida por 30 días. Guarda tu búsqueda de vuelos para vincular el viaje actual.",
    planFreeBullet: "• Gratis: búsqueda de vuelos, definición de destino, alojamiento y planificación básica.",
    planPaidBullet: "• Pago (mensual): edición de actividades/restaurantes, guardar calendario, exportaciones avanzadas y funciones premium.",
    validityBullet: "• Validez: 30 días tras la compra; después de expirar sigues accediendo a calendarios guardados.",
    billingBullet: "• Facturación: procesada por Google Play, sin renovación automática. Los reembolsos siguen las políticas de Google Play.",
    legalBullet: "• Privacidad y términos: consulta las páginas de Política de Privacidad y Términos de Uso.",
    deleteDataTitle: "Eliminación de cuenta y datos",
    deleteDataDesc: "Puedes solicitar la eliminación de tus datos y entitlements vinculados a la cuenta.",
    deleteDataButton: "Eliminar cuenta y datos",
    purchaseSuccess: "Suscripción activada",
    purchaseFail: "Compra fallida",
    purchaseError: "Error de compra",
    deleteSuccess: "Solicitud registrada. Datos eliminados.",
    deleteFail: "No se pudo procesar la solicitud.",
    deleteError: "Error en la solicitud.",
    planWord: "Plan",
    premiumWord: "Premium",
    freeWord: "Gratis",
    untilWord: "hasta",
    activatePremiumButton: "Activar Premium",
    saveCalendarButton: "Guardar calendario",
    saveLabel: "Guardar",
    saveToGoogleCalendarButton: "Guardar en Google Calendar",
  },
};

type Ctx = { lang: Lang; setLang: (l: Lang) => void; t: (k: string) => string };
const I18nCtx = createContext<Ctx | null>(null);

export function I18nProvider({ children }: { children: ReactNode }) {
  const initial = (() => {
    try {
      const raw = typeof window !== "undefined" ? localStorage.getItem("calentrip:lang") : null;
      if (raw === "pt" || raw === "en" || raw === "es") return raw as Lang;
    } catch {}
    return "pt" as Lang;
  })();
  const [lang, setLangState] = useState<Lang>(initial);
  function setLang(l: Lang) {
    setLangState(l);
    try {
      localStorage.setItem("calentrip:lang", l);
    } catch {}
  }
  const t = useMemo(() => (k: string) => dict[lang][k] ?? dict.pt[k] ?? k, [lang]);
  return <I18nCtx.Provider value={{ lang, setLang, t }}>{children}</I18nCtx.Provider>;
}

export function useI18n() {
  const v = useContext(I18nCtx);
  if (!v) throw new Error("I18n fora do contexto");
  return v;
}
